(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{921:function(t,a,e){"use strict";e.r(a);var s=e(15),o=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"成员身份"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#成员身份"}},[t._v("#")]),t._v(" 成员身份")]),t._v(" "),e("p",[t._v("Raft 算法属于 Multi-Paxos 算法，它是在兰伯特 Multi-Paxos 思想的基础上，做了一些简化和限制，比如增加了日志必须是连续的，只支持领导者、跟随者和候选人三种状态，在理解和算法实现上都相对容易许多。")]),t._v(" "),e("p",[t._v("除此之外，Raft 算法是现在分布式系统开发首选的共识算法。比如 Etcd、Consul、CockroachDB")]),t._v(" "),e("p",[e("strong",[t._v("如果要用一句话概括 Raft 算法，我觉得是这样的:从本质上说，Raft 算法是通过一切以 领导者为准的方式，实现一系列值的共识和各节点日志的一致。")])]),t._v(" "),e("p",[t._v("成员身份，又叫做服务器节点状态，"),e("strong",[t._v("Raft 算法支持领导者(Leader)、跟随者 (Follower)和候选人(Candidate) 3 种状态。")])]),t._v(" "),e("ul",[e("li",[t._v("跟随者:就相当于普通群众，默默地接收和处理来自领导者的消息，当等待领导者心跳信息超时的时候，就主动站出来，推荐自己当候选人。")]),t._v(" "),e("li",[t._v("候选人:候选人将向其他节点发送请求投票(RequestVote)RPC 消息，通知其他节点 来投票，如果赢得了大多数选票，就晋升当领导者。")]),t._v(" "),e("li",[t._v("领导者:蛮不讲理的霸道总裁，一切以我为准，平常的主要工作内容就是 3 部分，处理 写请求、管理日志复制和不断地发送心跳信息，通知其他节点“我是领导者，我还活 着，你们现在不要发起新的选举，找个新领导者来替代我。”")])]),t._v(" "),e("p",[e("strong",[t._v("Raft 算法是强领导者模型，集群中只能有一个“霸道总裁”。")])])])}),[],!1,null,null,null);a.default=o.exports}}]);