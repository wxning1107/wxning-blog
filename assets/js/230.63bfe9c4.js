(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{938:function(s,a,n){"use strict";n.r(a);var t=n(15),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"查看cpu使用情况"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看cpu使用情况"}},[s._v("#")]),s._v(" 查看cpu使用情况")]),s._v(" "),n("h1",{attrs:{id:"_1-top"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-top"}},[s._v("#")]),s._v(" 1.top")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@sss ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:38 up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" days,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":13,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" users,  load average: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.05")]),s._v("\nTasks:  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("77")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" running,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v(" sleeping,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),s._v(" us,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" sy,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.0")]),s._v(" id,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nKiB Mem "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1882232")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("813020")]),s._v(" free,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("330164")]),s._v(" used,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("739048")]),s._v(" buff/cache\nKiB Swap:        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total,        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free,        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used.  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1386608")]),s._v(" avail Mem \n\n  PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                                                                                                                                        \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17215")]),s._v(" root       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -20  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127504")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12176")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9560")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":46.45 AliYunDun                                                                                                                                      \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2770")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("573932")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17232")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6088")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":11.38 tuned                                                                                                                                          \n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43548")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3844")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2588")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":06.54 systemd                                                                                                                                        \n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 kthreadd                                                                                                                                       \n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":08.75 ksoftirqd/0                                                                                                                                    \n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" root       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -20       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 kworker/0:0H              \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("top命令可以看到总体的系统运行状态和cpu的使用率。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("%us：表示用户空间程序的cpu使用率（没有通过nice调度）\n%sy：表示系统空间的cpu使用率，主要是内核程序。\n%ni：表示用户空间且通过nice调度过的程序的cpu使用率。\n%id：空闲cpu\n%wa：cpu运行时在等待io的时间\n%hi：cpu处理硬中断的数量\n%si：cpu处理软中断的数量\n%st：被虚拟机偷走的cpu\n注：99.0 id，表示空闲CPU，即CPU未使用率，100%-99.0%=1%，即系统的cpu使用率为1%。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h1",{attrs:{id:"_2-vmstat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-vmstat"}},[s._v("#")]),s._v(" 2.vmstat")]),s._v(" "),n("p",[s._v("vmstat命令是最常见的Linux/Unix监控工具，可以展现给定时间间隔的服务器的状态值,包括服务器的CPU使用率，内存使用，虚拟内存 交换情况,IO读写情况。")]),s._v(" "),n("p",[s._v("相比top命令，通过vmstat可以看到整个机器的 CPU，内存，IO的使用情况，而不是单单看到各个进程的CPU使用率和内存使用率。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" // "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("表示每个两秒采集一次服务器状态，1表示只采集一次。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("root@ubuntu:~"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vmstat 2 1")]),s._v("\nprocs -----------memory---------- ---swap-- -----io---- -system-- ----cpu----\n r  b   swpd   "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("   buff  cache   si   so    bi    bo   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   cs us sy "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" wa\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3498472")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("315836")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3819540")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);