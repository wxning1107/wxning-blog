<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>压力测试：怎样设计全链路压力测试平台？ | 王雄宁</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/wxning-blog/images/logo.jpg">
    <meta name="description" content="终生学习者">
    
    <link rel="preload" href="/wxning-blog/assets/css/0.styles.164dedc7.css" as="style"><link rel="preload" href="/wxning-blog/assets/js/app.8852d27c.js" as="script"><link rel="preload" href="/wxning-blog/assets/js/2.0ac9689f.js" as="script"><link rel="preload" href="/wxning-blog/assets/js/257.b58e43de.js" as="script"><link rel="preload" href="/wxning-blog/assets/js/106.c87c1f28.js" as="script"><link rel="prefetch" href="/wxning-blog/assets/js/10.0be93323.js"><link rel="prefetch" href="/wxning-blog/assets/js/100.4ce079e4.js"><link rel="prefetch" href="/wxning-blog/assets/js/101.0a11b8cf.js"><link rel="prefetch" href="/wxning-blog/assets/js/102.46274081.js"><link rel="prefetch" href="/wxning-blog/assets/js/103.ad2f6409.js"><link rel="prefetch" href="/wxning-blog/assets/js/104.3c9a64bb.js"><link rel="prefetch" href="/wxning-blog/assets/js/105.947951ea.js"><link rel="prefetch" href="/wxning-blog/assets/js/107.b90046da.js"><link rel="prefetch" href="/wxning-blog/assets/js/108.b7c16913.js"><link rel="prefetch" href="/wxning-blog/assets/js/109.6d324617.js"><link rel="prefetch" href="/wxning-blog/assets/js/11.09ff1987.js"><link rel="prefetch" href="/wxning-blog/assets/js/110.d4c2d5e7.js"><link rel="prefetch" href="/wxning-blog/assets/js/111.7c098d90.js"><link rel="prefetch" href="/wxning-blog/assets/js/112.a67ea30d.js"><link rel="prefetch" href="/wxning-blog/assets/js/113.2670361b.js"><link rel="prefetch" href="/wxning-blog/assets/js/114.5536986b.js"><link rel="prefetch" href="/wxning-blog/assets/js/115.c9aad53c.js"><link rel="prefetch" href="/wxning-blog/assets/js/116.7be615f5.js"><link rel="prefetch" href="/wxning-blog/assets/js/117.bdbae4cb.js"><link rel="prefetch" href="/wxning-blog/assets/js/118.9275b4e2.js"><link rel="prefetch" href="/wxning-blog/assets/js/119.009e74c7.js"><link rel="prefetch" href="/wxning-blog/assets/js/12.29caa31a.js"><link rel="prefetch" href="/wxning-blog/assets/js/120.edd26556.js"><link rel="prefetch" href="/wxning-blog/assets/js/121.639889c2.js"><link rel="prefetch" href="/wxning-blog/assets/js/122.22c50e0c.js"><link rel="prefetch" href="/wxning-blog/assets/js/123.251a5f80.js"><link rel="prefetch" href="/wxning-blog/assets/js/124.32dd3286.js"><link rel="prefetch" href="/wxning-blog/assets/js/125.567333e7.js"><link rel="prefetch" href="/wxning-blog/assets/js/126.894c1236.js"><link rel="prefetch" href="/wxning-blog/assets/js/127.8683f854.js"><link rel="prefetch" href="/wxning-blog/assets/js/128.a967a4c6.js"><link rel="prefetch" href="/wxning-blog/assets/js/129.32dc2797.js"><link rel="prefetch" href="/wxning-blog/assets/js/13.c0cb35af.js"><link rel="prefetch" href="/wxning-blog/assets/js/130.383e738c.js"><link rel="prefetch" href="/wxning-blog/assets/js/131.f49bae8b.js"><link rel="prefetch" href="/wxning-blog/assets/js/132.dda03582.js"><link rel="prefetch" href="/wxning-blog/assets/js/133.7f58ee00.js"><link rel="prefetch" href="/wxning-blog/assets/js/134.bc800602.js"><link rel="prefetch" href="/wxning-blog/assets/js/135.1b5ca606.js"><link rel="prefetch" href="/wxning-blog/assets/js/136.f2247662.js"><link rel="prefetch" href="/wxning-blog/assets/js/137.7b8ac3d4.js"><link rel="prefetch" href="/wxning-blog/assets/js/138.6b365b56.js"><link rel="prefetch" href="/wxning-blog/assets/js/139.f37d0a12.js"><link rel="prefetch" href="/wxning-blog/assets/js/14.68370e1f.js"><link rel="prefetch" href="/wxning-blog/assets/js/140.fbf80469.js"><link rel="prefetch" href="/wxning-blog/assets/js/141.f21f11ae.js"><link rel="prefetch" href="/wxning-blog/assets/js/142.40d3eab4.js"><link rel="prefetch" href="/wxning-blog/assets/js/143.3e3b3cb2.js"><link rel="prefetch" href="/wxning-blog/assets/js/144.9c1885b9.js"><link rel="prefetch" href="/wxning-blog/assets/js/145.bf7ee063.js"><link rel="prefetch" href="/wxning-blog/assets/js/146.320c1c43.js"><link rel="prefetch" href="/wxning-blog/assets/js/147.87ef52ca.js"><link rel="prefetch" href="/wxning-blog/assets/js/148.bfb4c6ca.js"><link rel="prefetch" href="/wxning-blog/assets/js/149.365d6f38.js"><link rel="prefetch" href="/wxning-blog/assets/js/15.28d9d998.js"><link rel="prefetch" href="/wxning-blog/assets/js/150.4fd7aec8.js"><link rel="prefetch" href="/wxning-blog/assets/js/151.afeefa83.js"><link rel="prefetch" href="/wxning-blog/assets/js/152.3d1e4871.js"><link rel="prefetch" href="/wxning-blog/assets/js/153.3af4b48e.js"><link rel="prefetch" href="/wxning-blog/assets/js/154.69e2b077.js"><link rel="prefetch" href="/wxning-blog/assets/js/155.ebd4e3d0.js"><link rel="prefetch" href="/wxning-blog/assets/js/156.c4f22ae4.js"><link rel="prefetch" href="/wxning-blog/assets/js/157.f11c9ed6.js"><link rel="prefetch" href="/wxning-blog/assets/js/158.1139c8d4.js"><link rel="prefetch" href="/wxning-blog/assets/js/159.7f3c4657.js"><link rel="prefetch" href="/wxning-blog/assets/js/16.42e77179.js"><link rel="prefetch" href="/wxning-blog/assets/js/160.943136fa.js"><link rel="prefetch" href="/wxning-blog/assets/js/161.3053bfca.js"><link rel="prefetch" href="/wxning-blog/assets/js/162.bc82c004.js"><link rel="prefetch" href="/wxning-blog/assets/js/163.7645287b.js"><link rel="prefetch" href="/wxning-blog/assets/js/164.273134bd.js"><link rel="prefetch" href="/wxning-blog/assets/js/165.390457a7.js"><link rel="prefetch" href="/wxning-blog/assets/js/166.ee8f31da.js"><link rel="prefetch" href="/wxning-blog/assets/js/167.98e78e93.js"><link rel="prefetch" href="/wxning-blog/assets/js/168.f4e88104.js"><link rel="prefetch" href="/wxning-blog/assets/js/169.82f494f1.js"><link rel="prefetch" href="/wxning-blog/assets/js/17.aebfd4ed.js"><link rel="prefetch" href="/wxning-blog/assets/js/170.a7d9b604.js"><link rel="prefetch" href="/wxning-blog/assets/js/171.3c5f66d6.js"><link rel="prefetch" href="/wxning-blog/assets/js/172.8321dd77.js"><link rel="prefetch" href="/wxning-blog/assets/js/173.c8e5accb.js"><link rel="prefetch" href="/wxning-blog/assets/js/174.fc8065ec.js"><link rel="prefetch" href="/wxning-blog/assets/js/175.46c94f04.js"><link rel="prefetch" href="/wxning-blog/assets/js/176.de1101d1.js"><link rel="prefetch" href="/wxning-blog/assets/js/177.c2a0f1dd.js"><link rel="prefetch" href="/wxning-blog/assets/js/178.7890d9c2.js"><link rel="prefetch" href="/wxning-blog/assets/js/179.28033d54.js"><link rel="prefetch" href="/wxning-blog/assets/js/18.a3626061.js"><link rel="prefetch" href="/wxning-blog/assets/js/180.a9dedcff.js"><link rel="prefetch" href="/wxning-blog/assets/js/181.bb0e6ded.js"><link rel="prefetch" href="/wxning-blog/assets/js/182.c1730911.js"><link rel="prefetch" href="/wxning-blog/assets/js/183.23c08d9a.js"><link rel="prefetch" href="/wxning-blog/assets/js/184.d6c33804.js"><link rel="prefetch" href="/wxning-blog/assets/js/185.5807bdf7.js"><link rel="prefetch" href="/wxning-blog/assets/js/186.51685ba8.js"><link rel="prefetch" href="/wxning-blog/assets/js/187.c63c426d.js"><link rel="prefetch" href="/wxning-blog/assets/js/188.14e08f6a.js"><link rel="prefetch" href="/wxning-blog/assets/js/189.4d3fc5bf.js"><link rel="prefetch" href="/wxning-blog/assets/js/19.df984bd5.js"><link rel="prefetch" href="/wxning-blog/assets/js/190.c607b19c.js"><link rel="prefetch" href="/wxning-blog/assets/js/191.970fd004.js"><link rel="prefetch" href="/wxning-blog/assets/js/192.1acb06c6.js"><link rel="prefetch" href="/wxning-blog/assets/js/193.7c017c3f.js"><link rel="prefetch" href="/wxning-blog/assets/js/194.0231d521.js"><link rel="prefetch" href="/wxning-blog/assets/js/195.1f5104d6.js"><link rel="prefetch" href="/wxning-blog/assets/js/196.d578112c.js"><link rel="prefetch" href="/wxning-blog/assets/js/197.05670f30.js"><link rel="prefetch" href="/wxning-blog/assets/js/198.3e486e3d.js"><link rel="prefetch" href="/wxning-blog/assets/js/199.6f4dd88f.js"><link rel="prefetch" href="/wxning-blog/assets/js/20.f1a7e754.js"><link rel="prefetch" href="/wxning-blog/assets/js/200.da0ef77d.js"><link rel="prefetch" href="/wxning-blog/assets/js/201.50e8c30b.js"><link rel="prefetch" href="/wxning-blog/assets/js/202.b9729844.js"><link rel="prefetch" href="/wxning-blog/assets/js/203.30416aca.js"><link rel="prefetch" href="/wxning-blog/assets/js/204.21c2bae6.js"><link rel="prefetch" href="/wxning-blog/assets/js/205.4c748d96.js"><link rel="prefetch" href="/wxning-blog/assets/js/206.54417650.js"><link rel="prefetch" href="/wxning-blog/assets/js/207.ac45d089.js"><link rel="prefetch" href="/wxning-blog/assets/js/208.7f0e2c94.js"><link rel="prefetch" href="/wxning-blog/assets/js/209.35db5bed.js"><link rel="prefetch" href="/wxning-blog/assets/js/21.f1135f3f.js"><link rel="prefetch" href="/wxning-blog/assets/js/210.efa21795.js"><link rel="prefetch" href="/wxning-blog/assets/js/211.03ed7c89.js"><link rel="prefetch" href="/wxning-blog/assets/js/212.31f6bc7b.js"><link rel="prefetch" href="/wxning-blog/assets/js/213.7839118a.js"><link rel="prefetch" href="/wxning-blog/assets/js/214.61c41f78.js"><link rel="prefetch" href="/wxning-blog/assets/js/215.b9ff689a.js"><link rel="prefetch" href="/wxning-blog/assets/js/216.b0d9a02e.js"><link rel="prefetch" href="/wxning-blog/assets/js/217.cf09d645.js"><link rel="prefetch" href="/wxning-blog/assets/js/218.15ffd350.js"><link rel="prefetch" href="/wxning-blog/assets/js/219.f56dd6d1.js"><link rel="prefetch" href="/wxning-blog/assets/js/22.fc012b5c.js"><link rel="prefetch" href="/wxning-blog/assets/js/220.0de7119f.js"><link rel="prefetch" href="/wxning-blog/assets/js/221.3d35e3f6.js"><link rel="prefetch" href="/wxning-blog/assets/js/222.fc9f5257.js"><link rel="prefetch" href="/wxning-blog/assets/js/223.72566a5c.js"><link rel="prefetch" href="/wxning-blog/assets/js/224.9f458c25.js"><link rel="prefetch" href="/wxning-blog/assets/js/225.a39709a5.js"><link rel="prefetch" href="/wxning-blog/assets/js/226.d859ac22.js"><link rel="prefetch" href="/wxning-blog/assets/js/227.37f0afd9.js"><link rel="prefetch" href="/wxning-blog/assets/js/228.4f3b61de.js"><link rel="prefetch" href="/wxning-blog/assets/js/229.08471c67.js"><link rel="prefetch" href="/wxning-blog/assets/js/23.2754514d.js"><link rel="prefetch" href="/wxning-blog/assets/js/230.0658a00d.js"><link rel="prefetch" href="/wxning-blog/assets/js/231.f05c1c2d.js"><link rel="prefetch" href="/wxning-blog/assets/js/232.2c8e2730.js"><link rel="prefetch" href="/wxning-blog/assets/js/233.e3a4748b.js"><link rel="prefetch" href="/wxning-blog/assets/js/234.96339e4d.js"><link rel="prefetch" href="/wxning-blog/assets/js/235.063d6f7e.js"><link rel="prefetch" href="/wxning-blog/assets/js/236.5da7e873.js"><link rel="prefetch" href="/wxning-blog/assets/js/237.e62504e7.js"><link rel="prefetch" href="/wxning-blog/assets/js/238.344f6b9d.js"><link rel="prefetch" href="/wxning-blog/assets/js/239.a22f34dc.js"><link rel="prefetch" href="/wxning-blog/assets/js/24.3c07d69f.js"><link rel="prefetch" href="/wxning-blog/assets/js/240.84a3498e.js"><link rel="prefetch" href="/wxning-blog/assets/js/241.cddf6299.js"><link rel="prefetch" href="/wxning-blog/assets/js/242.e89d32a5.js"><link rel="prefetch" href="/wxning-blog/assets/js/243.252bc25f.js"><link rel="prefetch" href="/wxning-blog/assets/js/244.01c9be85.js"><link rel="prefetch" href="/wxning-blog/assets/js/245.4bb52b6e.js"><link rel="prefetch" href="/wxning-blog/assets/js/246.444d0ef5.js"><link rel="prefetch" href="/wxning-blog/assets/js/247.7013f742.js"><link rel="prefetch" href="/wxning-blog/assets/js/248.443055fe.js"><link rel="prefetch" href="/wxning-blog/assets/js/249.641fe3ed.js"><link rel="prefetch" href="/wxning-blog/assets/js/25.c14a65fc.js"><link rel="prefetch" href="/wxning-blog/assets/js/250.45df8700.js"><link rel="prefetch" href="/wxning-blog/assets/js/251.350b7d81.js"><link rel="prefetch" href="/wxning-blog/assets/js/252.fd7b4027.js"><link rel="prefetch" href="/wxning-blog/assets/js/253.6175971e.js"><link rel="prefetch" href="/wxning-blog/assets/js/254.cfaac825.js"><link rel="prefetch" href="/wxning-blog/assets/js/255.90829d8a.js"><link rel="prefetch" href="/wxning-blog/assets/js/256.2c3baf89.js"><link rel="prefetch" href="/wxning-blog/assets/js/258.26279b4b.js"><link rel="prefetch" href="/wxning-blog/assets/js/259.7f2299de.js"><link rel="prefetch" href="/wxning-blog/assets/js/26.a7c1f1e6.js"><link rel="prefetch" href="/wxning-blog/assets/js/260.04846caf.js"><link rel="prefetch" href="/wxning-blog/assets/js/261.afcbf824.js"><link rel="prefetch" href="/wxning-blog/assets/js/262.3af31cd0.js"><link rel="prefetch" href="/wxning-blog/assets/js/263.5c455586.js"><link rel="prefetch" href="/wxning-blog/assets/js/264.f014f046.js"><link rel="prefetch" href="/wxning-blog/assets/js/265.0174a7cd.js"><link rel="prefetch" href="/wxning-blog/assets/js/266.72b14493.js"><link rel="prefetch" href="/wxning-blog/assets/js/267.8f727bee.js"><link rel="prefetch" href="/wxning-blog/assets/js/268.a5850a7a.js"><link rel="prefetch" href="/wxning-blog/assets/js/269.e5cc3130.js"><link rel="prefetch" href="/wxning-blog/assets/js/27.73b419cc.js"><link rel="prefetch" href="/wxning-blog/assets/js/270.569f2ee3.js"><link rel="prefetch" href="/wxning-blog/assets/js/271.66a18bd6.js"><link rel="prefetch" href="/wxning-blog/assets/js/272.2863bd90.js"><link rel="prefetch" href="/wxning-blog/assets/js/273.041964ba.js"><link rel="prefetch" href="/wxning-blog/assets/js/274.d295c94b.js"><link rel="prefetch" href="/wxning-blog/assets/js/275.06aa025b.js"><link rel="prefetch" href="/wxning-blog/assets/js/276.092ae6d3.js"><link rel="prefetch" href="/wxning-blog/assets/js/277.50321775.js"><link rel="prefetch" href="/wxning-blog/assets/js/278.75957d44.js"><link rel="prefetch" href="/wxning-blog/assets/js/279.3af3b6dd.js"><link rel="prefetch" href="/wxning-blog/assets/js/28.acb690c3.js"><link rel="prefetch" href="/wxning-blog/assets/js/280.faebe1ff.js"><link rel="prefetch" href="/wxning-blog/assets/js/281.22fb1d9a.js"><link rel="prefetch" href="/wxning-blog/assets/js/282.81bdad97.js"><link rel="prefetch" href="/wxning-blog/assets/js/283.02d44d59.js"><link rel="prefetch" href="/wxning-blog/assets/js/284.e8c56b56.js"><link rel="prefetch" href="/wxning-blog/assets/js/285.47e7e210.js"><link rel="prefetch" href="/wxning-blog/assets/js/286.743efec0.js"><link rel="prefetch" href="/wxning-blog/assets/js/287.7eba861c.js"><link rel="prefetch" href="/wxning-blog/assets/js/288.a01e2a38.js"><link rel="prefetch" href="/wxning-blog/assets/js/289.ea040bf9.js"><link rel="prefetch" href="/wxning-blog/assets/js/29.d1bd0837.js"><link rel="prefetch" href="/wxning-blog/assets/js/290.657cf511.js"><link rel="prefetch" href="/wxning-blog/assets/js/291.b3207834.js"><link rel="prefetch" href="/wxning-blog/assets/js/292.0340e554.js"><link rel="prefetch" href="/wxning-blog/assets/js/293.6e1f0527.js"><link rel="prefetch" href="/wxning-blog/assets/js/294.190a1ae6.js"><link rel="prefetch" href="/wxning-blog/assets/js/295.57b14a18.js"><link rel="prefetch" href="/wxning-blog/assets/js/296.4d30d85c.js"><link rel="prefetch" href="/wxning-blog/assets/js/297.3b120cb0.js"><link rel="prefetch" href="/wxning-blog/assets/js/298.8b30c56f.js"><link rel="prefetch" href="/wxning-blog/assets/js/299.9619b612.js"><link rel="prefetch" href="/wxning-blog/assets/js/3.5567b841.js"><link rel="prefetch" href="/wxning-blog/assets/js/30.612411ca.js"><link rel="prefetch" href="/wxning-blog/assets/js/300.a6ebbb18.js"><link rel="prefetch" href="/wxning-blog/assets/js/301.614a8db2.js"><link rel="prefetch" href="/wxning-blog/assets/js/302.d9ccac72.js"><link rel="prefetch" href="/wxning-blog/assets/js/303.49bb8f68.js"><link rel="prefetch" href="/wxning-blog/assets/js/304.33b4f25d.js"><link rel="prefetch" href="/wxning-blog/assets/js/305.0efe204d.js"><link rel="prefetch" href="/wxning-blog/assets/js/306.0a1822eb.js"><link rel="prefetch" href="/wxning-blog/assets/js/307.5d2e7b94.js"><link rel="prefetch" href="/wxning-blog/assets/js/308.23ed1953.js"><link rel="prefetch" href="/wxning-blog/assets/js/309.62694f49.js"><link rel="prefetch" href="/wxning-blog/assets/js/31.3a807fec.js"><link rel="prefetch" href="/wxning-blog/assets/js/310.ed11b7fe.js"><link rel="prefetch" href="/wxning-blog/assets/js/311.184b0d29.js"><link rel="prefetch" href="/wxning-blog/assets/js/312.5542d9db.js"><link rel="prefetch" href="/wxning-blog/assets/js/313.237e7be3.js"><link rel="prefetch" href="/wxning-blog/assets/js/314.ef6bfe99.js"><link rel="prefetch" href="/wxning-blog/assets/js/315.5aad374f.js"><link rel="prefetch" href="/wxning-blog/assets/js/316.80e94d48.js"><link rel="prefetch" href="/wxning-blog/assets/js/317.9bef6d60.js"><link rel="prefetch" href="/wxning-blog/assets/js/318.b2ad2610.js"><link rel="prefetch" href="/wxning-blog/assets/js/319.ffc0ae92.js"><link rel="prefetch" href="/wxning-blog/assets/js/32.02724d0d.js"><link rel="prefetch" href="/wxning-blog/assets/js/320.65fa0b14.js"><link rel="prefetch" href="/wxning-blog/assets/js/321.35849a61.js"><link rel="prefetch" href="/wxning-blog/assets/js/322.56757e8f.js"><link rel="prefetch" href="/wxning-blog/assets/js/323.35e41e68.js"><link rel="prefetch" href="/wxning-blog/assets/js/324.90e34d8c.js"><link rel="prefetch" href="/wxning-blog/assets/js/325.4bf9aada.js"><link rel="prefetch" href="/wxning-blog/assets/js/326.1b4410f9.js"><link rel="prefetch" href="/wxning-blog/assets/js/327.b7a0e369.js"><link rel="prefetch" href="/wxning-blog/assets/js/328.8699df45.js"><link rel="prefetch" href="/wxning-blog/assets/js/329.b49ce474.js"><link rel="prefetch" href="/wxning-blog/assets/js/33.3914cb49.js"><link rel="prefetch" href="/wxning-blog/assets/js/330.83b722fa.js"><link rel="prefetch" href="/wxning-blog/assets/js/331.c3069a16.js"><link rel="prefetch" href="/wxning-blog/assets/js/332.299dbd46.js"><link rel="prefetch" href="/wxning-blog/assets/js/333.db36d6d1.js"><link rel="prefetch" href="/wxning-blog/assets/js/334.3114b5c0.js"><link rel="prefetch" href="/wxning-blog/assets/js/335.82703fc8.js"><link rel="prefetch" href="/wxning-blog/assets/js/336.a8919548.js"><link rel="prefetch" href="/wxning-blog/assets/js/337.5c3e009c.js"><link rel="prefetch" href="/wxning-blog/assets/js/338.d2c24326.js"><link rel="prefetch" href="/wxning-blog/assets/js/339.0ddba871.js"><link rel="prefetch" href="/wxning-blog/assets/js/34.6b0c3f77.js"><link rel="prefetch" href="/wxning-blog/assets/js/340.65cc3e5f.js"><link rel="prefetch" href="/wxning-blog/assets/js/341.abb990ce.js"><link rel="prefetch" href="/wxning-blog/assets/js/342.e135e4a1.js"><link rel="prefetch" href="/wxning-blog/assets/js/343.a4104bc3.js"><link rel="prefetch" href="/wxning-blog/assets/js/344.f3600607.js"><link rel="prefetch" href="/wxning-blog/assets/js/345.51b6b276.js"><link rel="prefetch" href="/wxning-blog/assets/js/346.97323959.js"><link rel="prefetch" href="/wxning-blog/assets/js/347.90a3a6dc.js"><link rel="prefetch" href="/wxning-blog/assets/js/348.5223f70f.js"><link rel="prefetch" href="/wxning-blog/assets/js/349.de8abc38.js"><link rel="prefetch" href="/wxning-blog/assets/js/35.7ba144ca.js"><link rel="prefetch" href="/wxning-blog/assets/js/350.e0410fe7.js"><link rel="prefetch" href="/wxning-blog/assets/js/351.173a9b23.js"><link rel="prefetch" href="/wxning-blog/assets/js/352.a67a0027.js"><link rel="prefetch" href="/wxning-blog/assets/js/353.1ac0a5a5.js"><link rel="prefetch" href="/wxning-blog/assets/js/354.3da66deb.js"><link rel="prefetch" href="/wxning-blog/assets/js/355.314fd579.js"><link rel="prefetch" href="/wxning-blog/assets/js/356.8c4790fa.js"><link rel="prefetch" href="/wxning-blog/assets/js/357.70458737.js"><link rel="prefetch" href="/wxning-blog/assets/js/358.70fdf198.js"><link rel="prefetch" href="/wxning-blog/assets/js/359.36ea4e9a.js"><link rel="prefetch" href="/wxning-blog/assets/js/36.aa800ef6.js"><link rel="prefetch" href="/wxning-blog/assets/js/360.cad63039.js"><link rel="prefetch" href="/wxning-blog/assets/js/361.596fa01b.js"><link rel="prefetch" href="/wxning-blog/assets/js/362.55fac207.js"><link rel="prefetch" href="/wxning-blog/assets/js/363.7f84991c.js"><link rel="prefetch" href="/wxning-blog/assets/js/364.bf673680.js"><link rel="prefetch" href="/wxning-blog/assets/js/365.b90e17c6.js"><link rel="prefetch" href="/wxning-blog/assets/js/366.27617660.js"><link rel="prefetch" href="/wxning-blog/assets/js/367.283ca905.js"><link rel="prefetch" href="/wxning-blog/assets/js/368.010df9ba.js"><link rel="prefetch" href="/wxning-blog/assets/js/369.34b7ba91.js"><link rel="prefetch" href="/wxning-blog/assets/js/37.5ee45aea.js"><link rel="prefetch" href="/wxning-blog/assets/js/370.02001578.js"><link rel="prefetch" href="/wxning-blog/assets/js/371.bd4d6434.js"><link rel="prefetch" href="/wxning-blog/assets/js/372.eec2ea89.js"><link rel="prefetch" href="/wxning-blog/assets/js/373.dfd3d396.js"><link rel="prefetch" href="/wxning-blog/assets/js/374.7bd5cc70.js"><link rel="prefetch" href="/wxning-blog/assets/js/375.24b988af.js"><link rel="prefetch" href="/wxning-blog/assets/js/376.785d6f8e.js"><link rel="prefetch" href="/wxning-blog/assets/js/377.98113527.js"><link rel="prefetch" href="/wxning-blog/assets/js/378.a96a331a.js"><link rel="prefetch" href="/wxning-blog/assets/js/379.6de31a00.js"><link rel="prefetch" href="/wxning-blog/assets/js/38.fc5f6b1b.js"><link rel="prefetch" href="/wxning-blog/assets/js/380.7b988265.js"><link rel="prefetch" href="/wxning-blog/assets/js/381.a0fa2727.js"><link rel="prefetch" href="/wxning-blog/assets/js/382.05b469c4.js"><link rel="prefetch" href="/wxning-blog/assets/js/383.0ce2bf85.js"><link rel="prefetch" href="/wxning-blog/assets/js/384.e7e16996.js"><link rel="prefetch" href="/wxning-blog/assets/js/385.27500244.js"><link rel="prefetch" href="/wxning-blog/assets/js/386.8bce53b1.js"><link rel="prefetch" href="/wxning-blog/assets/js/387.cbc2c7b0.js"><link rel="prefetch" href="/wxning-blog/assets/js/388.0a9a5e7a.js"><link rel="prefetch" href="/wxning-blog/assets/js/389.155eb4ef.js"><link rel="prefetch" href="/wxning-blog/assets/js/39.445a018b.js"><link rel="prefetch" href="/wxning-blog/assets/js/390.ce329a0f.js"><link rel="prefetch" href="/wxning-blog/assets/js/391.4588fca9.js"><link rel="prefetch" href="/wxning-blog/assets/js/392.4520f187.js"><link rel="prefetch" href="/wxning-blog/assets/js/393.ae0240a3.js"><link rel="prefetch" href="/wxning-blog/assets/js/394.64e835dd.js"><link rel="prefetch" href="/wxning-blog/assets/js/395.ed974d4d.js"><link rel="prefetch" href="/wxning-blog/assets/js/396.4a48fe25.js"><link rel="prefetch" href="/wxning-blog/assets/js/397.e1bc69b4.js"><link rel="prefetch" href="/wxning-blog/assets/js/398.1d766417.js"><link rel="prefetch" href="/wxning-blog/assets/js/399.9e2404b7.js"><link rel="prefetch" href="/wxning-blog/assets/js/4.b11e3ce6.js"><link rel="prefetch" href="/wxning-blog/assets/js/40.d3193dec.js"><link rel="prefetch" href="/wxning-blog/assets/js/400.e55ac14c.js"><link rel="prefetch" href="/wxning-blog/assets/js/401.4199bbf5.js"><link rel="prefetch" href="/wxning-blog/assets/js/402.9676fdd5.js"><link rel="prefetch" href="/wxning-blog/assets/js/403.16345aca.js"><link rel="prefetch" href="/wxning-blog/assets/js/404.e1048652.js"><link rel="prefetch" href="/wxning-blog/assets/js/405.3690147f.js"><link rel="prefetch" href="/wxning-blog/assets/js/406.e0f7acbb.js"><link rel="prefetch" href="/wxning-blog/assets/js/407.b24c03d5.js"><link rel="prefetch" href="/wxning-blog/assets/js/408.19023f52.js"><link rel="prefetch" href="/wxning-blog/assets/js/409.a184d4e3.js"><link rel="prefetch" href="/wxning-blog/assets/js/41.6b89f904.js"><link rel="prefetch" href="/wxning-blog/assets/js/410.17c48e9a.js"><link rel="prefetch" href="/wxning-blog/assets/js/411.0285aaf2.js"><link rel="prefetch" href="/wxning-blog/assets/js/412.a70c5c8b.js"><link rel="prefetch" href="/wxning-blog/assets/js/413.515b7868.js"><link rel="prefetch" href="/wxning-blog/assets/js/414.5bb39a25.js"><link rel="prefetch" href="/wxning-blog/assets/js/415.2a491d04.js"><link rel="prefetch" href="/wxning-blog/assets/js/416.4d97789c.js"><link rel="prefetch" href="/wxning-blog/assets/js/417.6cc5f059.js"><link rel="prefetch" href="/wxning-blog/assets/js/418.35f866f5.js"><link rel="prefetch" href="/wxning-blog/assets/js/419.fc18caf7.js"><link rel="prefetch" href="/wxning-blog/assets/js/42.36e7a579.js"><link rel="prefetch" href="/wxning-blog/assets/js/420.f1a83e90.js"><link rel="prefetch" href="/wxning-blog/assets/js/421.242a241b.js"><link rel="prefetch" href="/wxning-blog/assets/js/422.7e57e046.js"><link rel="prefetch" href="/wxning-blog/assets/js/423.3cbf7c7e.js"><link rel="prefetch" href="/wxning-blog/assets/js/424.e8b94e1b.js"><link rel="prefetch" href="/wxning-blog/assets/js/425.c3f33ccf.js"><link rel="prefetch" href="/wxning-blog/assets/js/426.180d6992.js"><link rel="prefetch" href="/wxning-blog/assets/js/427.0650f1e9.js"><link rel="prefetch" href="/wxning-blog/assets/js/428.fb5474c6.js"><link rel="prefetch" href="/wxning-blog/assets/js/429.79f04e78.js"><link rel="prefetch" href="/wxning-blog/assets/js/43.e59adac5.js"><link rel="prefetch" href="/wxning-blog/assets/js/430.7bbe792e.js"><link rel="prefetch" href="/wxning-blog/assets/js/431.ff93f645.js"><link rel="prefetch" href="/wxning-blog/assets/js/432.aea37e00.js"><link rel="prefetch" href="/wxning-blog/assets/js/433.f64702d9.js"><link rel="prefetch" href="/wxning-blog/assets/js/434.460dc279.js"><link rel="prefetch" href="/wxning-blog/assets/js/435.70f80985.js"><link rel="prefetch" href="/wxning-blog/assets/js/436.124358bb.js"><link rel="prefetch" href="/wxning-blog/assets/js/437.bc240fbb.js"><link rel="prefetch" href="/wxning-blog/assets/js/438.60a34235.js"><link rel="prefetch" href="/wxning-blog/assets/js/439.82ae53dd.js"><link rel="prefetch" href="/wxning-blog/assets/js/44.12c1534d.js"><link rel="prefetch" href="/wxning-blog/assets/js/440.690687ca.js"><link rel="prefetch" href="/wxning-blog/assets/js/441.0ab1ac51.js"><link rel="prefetch" href="/wxning-blog/assets/js/442.2819bc96.js"><link rel="prefetch" href="/wxning-blog/assets/js/443.c21baa15.js"><link rel="prefetch" href="/wxning-blog/assets/js/444.95812dc9.js"><link rel="prefetch" href="/wxning-blog/assets/js/445.700dc831.js"><link rel="prefetch" href="/wxning-blog/assets/js/446.d0036ab3.js"><link rel="prefetch" href="/wxning-blog/assets/js/447.60a0d1fe.js"><link rel="prefetch" href="/wxning-blog/assets/js/448.ab2a8599.js"><link rel="prefetch" href="/wxning-blog/assets/js/449.0d1b628d.js"><link rel="prefetch" href="/wxning-blog/assets/js/45.4927a430.js"><link rel="prefetch" href="/wxning-blog/assets/js/450.ff2eb420.js"><link rel="prefetch" href="/wxning-blog/assets/js/451.e07c3917.js"><link rel="prefetch" href="/wxning-blog/assets/js/452.a010798b.js"><link rel="prefetch" href="/wxning-blog/assets/js/453.f7ba0843.js"><link rel="prefetch" href="/wxning-blog/assets/js/454.d38498ab.js"><link rel="prefetch" href="/wxning-blog/assets/js/46.4b3ceb71.js"><link rel="prefetch" href="/wxning-blog/assets/js/47.80e80ea0.js"><link rel="prefetch" href="/wxning-blog/assets/js/48.32099e7d.js"><link rel="prefetch" href="/wxning-blog/assets/js/49.9c49ab41.js"><link rel="prefetch" href="/wxning-blog/assets/js/5.3bff706d.js"><link rel="prefetch" href="/wxning-blog/assets/js/50.319642ce.js"><link rel="prefetch" href="/wxning-blog/assets/js/51.0da3a621.js"><link rel="prefetch" href="/wxning-blog/assets/js/52.f608c840.js"><link rel="prefetch" href="/wxning-blog/assets/js/53.beb1886c.js"><link rel="prefetch" href="/wxning-blog/assets/js/54.0e0ceaa4.js"><link rel="prefetch" href="/wxning-blog/assets/js/55.21c4f783.js"><link rel="prefetch" href="/wxning-blog/assets/js/56.84fa3ac9.js"><link rel="prefetch" href="/wxning-blog/assets/js/57.eef12c31.js"><link rel="prefetch" href="/wxning-blog/assets/js/58.d36b1b66.js"><link rel="prefetch" href="/wxning-blog/assets/js/59.9a3e1746.js"><link rel="prefetch" href="/wxning-blog/assets/js/6.977e7fd8.js"><link rel="prefetch" href="/wxning-blog/assets/js/60.272bec55.js"><link rel="prefetch" href="/wxning-blog/assets/js/61.574b58c4.js"><link rel="prefetch" href="/wxning-blog/assets/js/62.4af676e3.js"><link rel="prefetch" href="/wxning-blog/assets/js/63.912d1f5c.js"><link rel="prefetch" href="/wxning-blog/assets/js/64.0cf1d12b.js"><link rel="prefetch" href="/wxning-blog/assets/js/65.f2ff4de7.js"><link rel="prefetch" href="/wxning-blog/assets/js/66.d9ce9532.js"><link rel="prefetch" href="/wxning-blog/assets/js/67.a61a9caf.js"><link rel="prefetch" href="/wxning-blog/assets/js/68.8847629d.js"><link rel="prefetch" href="/wxning-blog/assets/js/69.045a83d4.js"><link rel="prefetch" href="/wxning-blog/assets/js/7.0f82011f.js"><link rel="prefetch" href="/wxning-blog/assets/js/70.6a75a5f2.js"><link rel="prefetch" href="/wxning-blog/assets/js/71.5ff4c2d5.js"><link rel="prefetch" href="/wxning-blog/assets/js/72.7d7d8f6e.js"><link rel="prefetch" href="/wxning-blog/assets/js/73.bb4950e9.js"><link rel="prefetch" href="/wxning-blog/assets/js/74.34c95aa1.js"><link rel="prefetch" href="/wxning-blog/assets/js/75.9371c9d6.js"><link rel="prefetch" href="/wxning-blog/assets/js/76.4f3482a2.js"><link rel="prefetch" href="/wxning-blog/assets/js/77.c28d4134.js"><link rel="prefetch" href="/wxning-blog/assets/js/78.a8e4cb98.js"><link rel="prefetch" href="/wxning-blog/assets/js/79.b2d75eae.js"><link rel="prefetch" href="/wxning-blog/assets/js/8.d13ff724.js"><link rel="prefetch" href="/wxning-blog/assets/js/80.3abd6a6e.js"><link rel="prefetch" href="/wxning-blog/assets/js/81.43c65292.js"><link rel="prefetch" href="/wxning-blog/assets/js/82.67dfa5b3.js"><link rel="prefetch" href="/wxning-blog/assets/js/83.f56c4412.js"><link rel="prefetch" href="/wxning-blog/assets/js/84.9c2959ff.js"><link rel="prefetch" href="/wxning-blog/assets/js/85.d3fdcb83.js"><link rel="prefetch" href="/wxning-blog/assets/js/86.d32829e1.js"><link rel="prefetch" href="/wxning-blog/assets/js/87.4439b298.js"><link rel="prefetch" href="/wxning-blog/assets/js/88.22ce0034.js"><link rel="prefetch" href="/wxning-blog/assets/js/89.a1956e6d.js"><link rel="prefetch" href="/wxning-blog/assets/js/9.03e12b55.js"><link rel="prefetch" href="/wxning-blog/assets/js/90.f0216bbf.js"><link rel="prefetch" href="/wxning-blog/assets/js/91.2753d8fc.js"><link rel="prefetch" href="/wxning-blog/assets/js/92.ed33ffe1.js"><link rel="prefetch" href="/wxning-blog/assets/js/93.7d407564.js"><link rel="prefetch" href="/wxning-blog/assets/js/94.36ff7074.js"><link rel="prefetch" href="/wxning-blog/assets/js/95.9cba5968.js"><link rel="prefetch" href="/wxning-blog/assets/js/96.40fcde08.js"><link rel="prefetch" href="/wxning-blog/assets/js/97.c8442f9c.js"><link rel="prefetch" href="/wxning-blog/assets/js/98.05ce2e94.js"><link rel="prefetch" href="/wxning-blog/assets/js/99.edaf9d0d.js">
    <link rel="stylesheet" href="/wxning-blog/assets/css/0.styles.164dedc7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wxning-blog/" class="home-link router-link-active"><!----> <span class="site-name">王雄宁</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wxning-blog/guide/" class="nav-link">
  个人简介
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="交易系统" class="dropdown-title"><span class="title">交易系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="交易系统" class="mobile-dropdown-title"><span class="title">交易系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/diary/" class="nav-link">
  交易日记
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/strategy/" class="nav-link">
  交易策略
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础教程" class="dropdown-title"><span class="title">基础教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础教程" class="mobile-dropdown-title"><span class="title">基础教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/typescript/" class="nav-link">
  TypeScript简明教程
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/grpc/" class="nav-link">
  GRPC
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/system-design/" class="nav-link router-link-active">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/data-structure-and-algorithm/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/distributed-protocol-and-algorithm/" class="nav-link">
  分布式协议与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><h4>
          题目汇总
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/interview/Golang-questions/" class="nav-link">
  Golang题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MySQL-questions/" class="nav-link">
  MySQL题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Redis-questions/" class="nav-link">
  Redis题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MQ-questions/" class="nav-link">
  消息队列题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Linux-questions/" class="nav-link">
  Linux题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/network-questions/" class="nav-link">
  计算机网络题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/os-questions/" class="nav-link">
  操作系统题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/DistributedSystemAndMicroService-questions/" class="nav-link">
  分布式与微服务题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/cloud-native-questions/" class="nav-link">
  云原生题目汇总
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/wxning-blog/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="https://github.com/wxning1107" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wxning-blog/guide/" class="nav-link">
  个人简介
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="交易系统" class="dropdown-title"><span class="title">交易系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="交易系统" class="mobile-dropdown-title"><span class="title">交易系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/diary/" class="nav-link">
  交易日记
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/strategy/" class="nav-link">
  交易策略
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础教程" class="dropdown-title"><span class="title">基础教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础教程" class="mobile-dropdown-title"><span class="title">基础教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/typescript/" class="nav-link">
  TypeScript简明教程
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/grpc/" class="nav-link">
  GRPC
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/system-design/" class="nav-link router-link-active">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/data-structure-and-algorithm/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/distributed-protocol-and-algorithm/" class="nav-link">
  分布式协议与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><h4>
          题目汇总
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/interview/Golang-questions/" class="nav-link">
  Golang题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MySQL-questions/" class="nav-link">
  MySQL题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Redis-questions/" class="nav-link">
  Redis题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MQ-questions/" class="nav-link">
  消息队列题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Linux-questions/" class="nav-link">
  Linux题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/network-questions/" class="nav-link">
  计算机网络题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/os-questions/" class="nav-link">
  操作系统题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/DistributedSystemAndMicroService-questions/" class="nav-link">
  分布式与微服务题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/cloud-native-questions/" class="nav-link">
  云原生题目汇总
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/wxning-blog/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="https://github.com/wxning1107" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/01/01.html" class="sidebar-link">高并发系统：它的通用设计方法是什么?</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/02.html" class="sidebar-link">架构分层：我们为什么一定要这么做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/03.html" class="sidebar-link">系统设计目标1：如何提升系统性能？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/04.html" class="sidebar-link">系统设计目标2：系统怎样做到高可用？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/05.html" class="sidebar-link">系统设计目标3：如何让系统易于扩展？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/06.html" class="sidebar-link">面试现场第1期：当问到组件实现原理时，面试官是在刁难你吗？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库设计</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/02/01.html" class="sidebar-link">池化技术：如何减少频繁创建数据库连接的性能损耗？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/02.html" class="sidebar-link">数据库优化方案1：查询请求增加时，如何做主从分离？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/03.html" class="sidebar-link">数据库优化方案2：写入数据量增加时，如何实现分库分表？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/04.html" class="sidebar-link">发号器：如何保证分库分表后 ID 的全局唯一性？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/05.html" class="sidebar-link">NoSQL：在高并发场景下，数据库和NoSQL如何做到互补？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>缓存设计</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/03/01.html" class="sidebar-link">缓存：数据库成为瓶颈后，动态数据的查询要如何加速？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/02.html" class="sidebar-link">缓存的使用姿势1：如何选择缓存的读写策略？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/03.html" class="sidebar-link">缓存的使用姿势2：缓存如何做到高可用？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/04.html" class="sidebar-link">缓存的使用姿势3：缓存穿透了怎么办？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/05.html" class="sidebar-link">CDN：静态资源如何加速？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/06.html" class="sidebar-link">加餐丨数据的迁移应该如何做？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>消息队列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/04/01.html" class="sidebar-link">消息队列：秒杀时如何处理每秒上万次的下单请求？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/02.html" class="sidebar-link">消息投递：如何保证消息仅仅被消费一次？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/03.html" class="sidebar-link">消息队列：如何降低消息队列系统中消息的延迟？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/04.html" class="sidebar-link">面试现场第2期：当问到项目经历时，面试官究竟想要了解什么？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/05.html" class="sidebar-link">期中测试丨10道高并发系统设计题目自测</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分布式服务</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/05/01.html" class="sidebar-link">系统架构：每秒 1 万次请求的系统要做服务化拆分吗？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/02.html" class="sidebar-link">微服务架构：微服务化后，系统架构要如何改造？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/03.html" class="sidebar-link">RPC框架：10 万 QPS 下如何实现毫秒级的服务调用？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/04.html" class="sidebar-link">注册中心：分布式系统如何寻址？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/05.html" class="sidebar-link">分布式 Trace：横跨几十个分布式组件的慢请求要如何排查？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/06.html" class="sidebar-link">负载均衡：怎样提升系统的横向扩展能力？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/07.html" class="sidebar-link">API 网关：系统的门面要如何做呢？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/08.html" class="sidebar-link">多机房部署：跨地域的分布式系统如何做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/09.html" class="sidebar-link">ServiceMesh：如何屏蔽服务化系统的服务治理细节？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>维护篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/06/01.html" class="sidebar-link">给系统加上眼睛：服务端监控要怎么做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/02.html" class="sidebar-link">应用性能管理：用户的使用体验应该如何监控？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/03.html" aria-current="page" class="active sidebar-link">压力测试：怎样设计全链路压力测试平台？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/04.html" class="sidebar-link">配置管理：成千上万的配置项要如何管理？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/05.html" class="sidebar-link">降级熔断：如何屏蔽非核心系统故障的影响？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/06.html" class="sidebar-link">流量控制：高并发系统中我们如何操纵流量？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/07.html" class="sidebar-link">面试现场第3期：你要如何准备一场技术面试呢？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>实战篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/07/01.html" class="sidebar-link">计数系统设计1：面对海量数据的计数器要如何做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/07/02.html" class="sidebar-link">计数系统设计2：50 万 QPS 下如何设计未读数系统？</a></li><li><a href="/wxning-blog/interview/system-design/notes/07/03.html" class="sidebar-link">信息流设计1：通用信息流系统的推模式要如何做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/07/04.html" class="sidebar-link">信息流设计2：通用信息流系统的拉模式要如何做？</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="压力测试-怎样设计全链路压力测试平台"><a href="#压力测试-怎样设计全链路压力测试平台" class="header-anchor">#</a> 压力测试：怎样设计全链路压力测试平台？</h1> <p>经过两节课的学习，我们已经搭建了服务端和客户端的监控，通过监控的报表和一些报警规则的设置，你可以实时地跟踪和解决垂直电商系统中出现的问题了。不过，你不能掉以轻心，因为监控只能发现目前系统中已经存在的问题，对于未来可能发生的性能问题是无能为力的。</p> <p>一旦你的系统流量有大的增长，比如类似「双十一」的流量，那么你在面临性能问题时就可能会手足无措。为了解决后顾之忧，你需要了解在流量增长若干倍的时候，系统的哪些组件或者服务会成为整体系统的瓶颈点，这时你就需要做一次全链路的压力测试。</p> <p>那么，什么是压力测试呢？要如何来做全链路的压测呢？这两个问题就是本节课重点讲解的内容。</p> <p><font size="5"><strong>什么是压力测试</strong></font></p> <p>压力测试（简称为压测）这个名词儿，你在业界的分享中一定听过很多次，当然了，你也可能在项目的研发过程中做过压力测试，所以，对于你来说，压力测试并不陌生。</p> <p>不过，我想让你回想一下，自己是怎么做压力测试的？是不是像很多同学一样：先搭建一套与正式环境功能相同的测试环境，并且导入或者生成一批测试数据，然后在另一台服务器，启动多个线程并发地调用需要压测的接口（接口的参数一般也会设置成相同的，比如，想要压测获取商品信息的接口，那么压测时会使用同一个商品 ID）。最后，通过统计访问日志，或者查看测试环境的监控系统，来记录最终压测 QPS 是多少之后，直接交差？</p> <p>这么做压力测试其实是不正确的，<strong>错误之处主要有以下几点：</strong></p> <ol><li><p>首先，做压力测试时，最好使用线上的数据和线上的环境，因为，你无法确定自己搭建的测试环境与正式环境的差异，是否会影响到压力测试的结果；</p></li> <li><p>其次，压力测试时不能使用模拟的请求，而是要使用线上的流量。你可以通过拷贝流量的方式，把线上流量拷贝一份到压力测试环境。因为模拟流量的访问模型，和线上流量相差很大，会对压力测试的结果产生比较大的影响。</p> <p>比如，你在获取商品信息的时候，线上的流量会获取不同商品的数据，这些商品的数据有的命中了缓存，有的没有命中缓存。如果使用同一个商品 ID 来做压力测试，那么只有第一次请求没有命中缓存，而在请求之后会将数据库中的数据回种到缓存，后续的请求就一定会命中缓存了，这种压力测试的数据就不具备参考性了。</p></li> <li><p>不要从一台服务器发起流量，这样很容易达到这台服务器性能瓶颈，从而导致压力测试的 QPS 上不去，最终影响压力测试的结果。而且，为了尽量真实地模拟用户请求，我们倾向于把流量产生的机器，放在离用户更近的位置，比如放在 CDN 节点上。如果没有这个条件，那么可以放在不同的机房中，这样可以尽量保证压力测试结果的真实性。</p></li></ol> <p>之所以有很多同学出现这个问题，主要是对压力测试的概念没有完全理解，以为只要是使用多个线程并发的请求服务接口，就算是对接口进行压力测试了。</p> <p><strong>那么究竟什么是压力测试呢？</strong> 压力测试指的是，在高并发大流量下，进行的测试，测试人员可以通过观察系统在峰值负载下的表现，从而找到系统中存在的性能隐患。</p> <p>与监控一样，压力测试是一种常见的，发现系统中存在问题的方式，也是保障系统可用性和稳定性的重要手段。而在压力测试的过程中，我们不能只针对某一个核心模块来做压测，而需要将接入层、所有后端服务、数据库、缓存、消息队列、中间件以及依赖的第三方服务系统及其资源，都纳入压力测试的目标之中。因为，一旦用户的访问行为增加，包含上述组件服务的整个链路都会受到不确定的大流量的冲击，因此，它们都需要依赖压力测试来发现可能存在的性能瓶颈， <strong>这种针对整个调用链路执行的压力测试也称为「全链路压测」。</strong></p> <p>由于在互联网项目中，功能迭代的速度很快，系统的复杂性也变得越来越高，新增加的功能和代码很可能会成为新的性能瓶颈点。也许半年前做压力测试时，单台机器可以承担每秒 1000 次请求，现在很可能就承担每秒 800 次请求了。所以，压力测试应该作为系统稳定性保障的常规手段，周期性地进行。</p> <p>但是，通常做一次全链路压力测试，需要联合 DBA、运维、依赖服务方、中间件架构等多个团队，一起协调进行，无论是人力成本还是沟通协调的成本都比较高。同时，在压力测试的过程中，如果没有很好的监控机制，那么还会对线上系统造成不利的影响。 <strong>为了解决这些问题，我们需要搭建一套自动化的全链路压测平台，来降低成本和风险。</strong></p> <p><font size="5"><strong>如何搭建全链路压测平台</strong></font></p> <p>搭建全链路压测平台，主要有两个关键点。</p> <p>一点是流量的隔离。由于压力测试是在正式环境进行，所以需要区分压力测试流量和正式流量，这样可以针对压力测试的流量做单独的处理。</p> <p>另一点是风险的控制。也就是，尽量避免压力测试对于正常访问用户的影响，因此，一般来说全链路压测平台需要包含以下几个模块：</p> <ul><li><p>流量构造和产生模块；</p></li> <li><p>压测数据隔离模块；</p></li> <li><p>系统健康度检查和压测流量干预模块。</p></li></ul> <p>整体压测平台的架构图可以是下面这样的：</p> <p><img src="/wxning-blog/assets/img/1552e524d495bb7e129405578b7907ff.1552e524.jpg" alt="img"></p> <p>为了让你能够更清晰地了解每一个模块是如何实现的，方便你来设计适合自身业务的全链路压测平台，我会对压测平台的每一个模块做更细致地介绍。先来看看压力测试的流量是如何产生的。</p> <p><font size="5"><strong>压测数据的产生</strong></font></p> <p>一般来说，我们系统的入口流量是来自于客户端的 HTTP 请求，所以，我们会考虑在系统高峰期时，将这些入口流量拷贝一份，在经过一些流量清洗的工作之后（比如过滤一些无效的请求），将数据存储在像是 HBase、MongoDB 这些 NoSQL 存储组件，或者亚马逊 S3 这些云存储服务中，我们称之为 <strong>流量数据工厂</strong>。</p> <p>这样，当我们要压测的时候，就可以从这个工厂中获取数据，将数据切分多份后下发到多个压测节点上了，<strong>在这里，我想强调几个，你需要特殊注意的点。</strong></p> <p>首先，我们可以使用多种方式来实现流量的拷贝。最简单的一种方式：直接拷贝负载均衡服务器的访问日志，数据就以文本的方式写入到流量数据工厂中，但是这样产生的数据在发起压测时，需要自己写解析的脚本来解析访问日志，会增加压测时候的成本，不太建议使用。</p> <p>另一种方式：通过一些开源的工具来实现流量的拷贝。这里，我推荐一款轻型的流量拷贝工具 GoReplay，它可以劫持本机某一个端口的流量，将它们记录在文件中，传送到流量数据工厂中。在压测时，你也可以使用这个工具进行加速的流量回放，这样就可以实现对正式环境的压力测试了。</p> <p>其次，如上文中提到的，我们在下发压测流量时，需要保证下发流量的节点与用户更加接近，起码不能和服务部署节点在同一个机房中，这样可以尽量保证压测数据的真实性。</p> <p>另外，我们还需要对 <strong>压测流量染色</strong>，也就是增加压测标记。在实际项目中，我会在 HTTP 的请求头中增加一个标记项，比如说叫做 is stress test，在流量拷贝之后，批量在请求中增加这个标记项，再写入到数据流量工厂中。</p> <p><font size="5"><strong>数据如何隔离</strong></font></p> <p>将压测流量拷贝下来的同时，我们也需要考虑对系统做改造，以实现压测流量和正式流量的隔离，这样一来就会尽量避免压测对线上系统的影响，一般来说，我们需要做两方面的事情。</p> <p>一方面，针对读取数据的请求（一般称之为下行流量），我们会针对某些不能压测的服务或者组件，做 Mock 或者特殊的处理。举个例子。</p> <p>在业务开发中，我们一般会依据请求，记录用户的行为，比如，用户请求了某个商品的页面，我们会记录这个商品多了一次浏览的行为，这些行为数据会写入一份单独的大数据日志中，再传输给数据分析部门，形成业务报表给到产品或者老板做业务的分析决策。</p> <p>在压测的时候，肯定会增加这些行为数据，比如原本一天商品页面的浏览行为是一亿次，而压测之后变成了十亿次，这样就会对业务报表产生影响，影响后续的产品方向的决策。因此，我们对于这些压测产生的用户行为做特殊处理，不再记录到大数据日志中。</p> <p>再比如，我们系统会依赖一些推荐服务，推荐一些你可能感兴趣的商品，但是这些数据的展示有一个特点就是，展示过的商品就不再会被推荐出来。如果你的压测流量经过这些推荐服务，大量的商品就会被压测流量请求到，线上的用户就不会再看到这些商品了，也就会影响推荐的效果。</p> <p>所以，我们需要 Mock 这些推荐服务，让不带有压测标记的请求经过推荐服务，而让带有压测标记的请求经过 Mock 服务。搭建 Mock 服务，你需要注意一点：这些 Mock 服务最好部署在真实服务所在的机房，这样可以尽量模拟真实的服务部署结构，提高压测结果的真实性。</p> <p>另一方面，针对写入数据的请求（一般称之为上行流量），我们会把压测流量产生的数据，写入到影子库，也就是和线上数据存储，完全隔离的一份存储系统中。针对不同的存储类型，我们会使用不同的影子库的搭建方式：</p> <ol><li><p>如果数据存储在 MySQL 中，我们可以在同一个 MySQL 实例，不同的 Schema 中创建一套和线上相同的库表结构，并且把线上的数据也导入进来。</p></li> <li><p>而如果数据是放在 Redis 中，我们对压测流量产生的数据，增加一个统一的前缀，存储在同一份存储中。</p></li> <li><p>还有一些数据会存储在 Elasticsearch 中，针对这部分数据，我们可以放在另外一个单独的索引表中。</p></li></ol> <p>通过对下行流量的特殊处理以及对上行流量增加影子库的方式，我们就可以实现压测流量的隔离了。</p> <p><font size="5"><strong>压力测试如何实施</strong></font></p> <p>在拷贝了线上流量和完成了对线上系统的改造之后，我们就可以进行压力测试的实施了。在此之前，一般会设立一个压力测试的目标，比如说，整体系统的 QPS 需要达到每秒 20 万。</p> <p>不过，在压测时，不会一下子把请求量增加到每秒 20 万次，而是按照一定的步长（比如每次压测增加一万 QPS），逐渐地增加流量。在增加一次流量之后，让系统稳定运行一段时间，观察系统在性能上的表现。如果发现依赖的服务或者组件出现了瓶颈，可以先减少压测流量，比如，回退到上一次压测的 QPS，保证服务的稳定，再针对此服务或者组件进行扩容，然后再继续增加流量压测。</p> <p>为了能够减少压力测试过程中，人力投入成本，可以开发一个流量监控的组件，在这个组件中，预先设定一些性能阈值。比如，容器的 CPU 使用率的阈值可以设定为 60%～70%；系统的平均响应时间的上限可以设定为 1 秒；系统慢请求的比例设置为 1% 等等。</p> <p>当系统性能达到这个阈值之后，流量监控组件可以及时发现，并且通知压测流量下发组件减少压测流量，并且发送报警给到开发和运维的同学，开发和运维同学就迅速地排查性能瓶颈，在解决问题或者扩容之后再继续执行压测。</p> <p>业界关于全链路压测平台的探索有很多，一些大厂比如阿里、京东、美团和微博都有了适合自身业务的全链路压测平台。在我看来，这些压测平台万变不离其宗，都无非是经过流量拷贝、流量染色隔离、打压、监控熔断等步骤，与本课程中介绍的核心思想都是相通的。因此，你在考虑自研适合自己项目的全链路压测平台时，也可以遵循这个成熟的套路。</p> <p><font size="5"><strong>课程小结</strong></font></p> <p>本节课，我带你了解了做压力测试常见的误区，以及自动化的全链路压测平台的搭建过程，这里你需要了解的重点是：</p> <ol><li><p>压力测试是一种发现系统性能隐患的重要手段，所以应该尽量使用正式的环境和数据；</p></li> <li><p>对压测的流量需要增加标记，这样就可以通过 Mock 第三方依赖服务和影子库的方式来实现压测数据和正式数据的隔离；</p></li> <li><p>压测时，应该实时地对系统性能指标做监控和告警，及时地对出现瓶颈的资源或者服务扩容，避免对正式环境产生影响。</p></li></ol> <p>**这套全链路的压力测试系统对于我们来说有三方面的价值： **</p> <ul><li>其一，它可以帮助我们发现系统中可能出现的性能瓶颈，方便我们提前准备预案来应对；</li> <li>其次，它也可以为我们做容量评估，提供数据上的支撑；</li> <li>最后，我们也可以在压测的时候做预案演练，因为压测一般会安排在流量的低峰期进行，这样我们可以降级一些服务来验证预案效果，并且可以尽量减少对线上用户的影响。</li></ul> <p>所以，随着你的系统流量的快速增长，你也需要及时考虑搭建这么一套全链路压测平台，来保证你的系统的稳定性。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wxning-blog/interview/system-design/notes/06/02.html" class="prev">
        应用性能管理：用户的使用体验应该如何监控？
      </a></span> <span class="next"><a href="/wxning-blog/interview/system-design/notes/06/04.html">
        配置管理：成千上万的配置项要如何管理？
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/wxning-blog/assets/js/app.8852d27c.js" defer></script><script src="/wxning-blog/assets/js/2.0ac9689f.js" defer></script><script src="/wxning-blog/assets/js/257.b58e43de.js" defer></script><script src="/wxning-blog/assets/js/106.c87c1f28.js" defer></script>
  </body>
</html>
