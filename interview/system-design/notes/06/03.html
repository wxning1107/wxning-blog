<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>压力测试：怎样设计全链路压力测试平台？ | 王雄宁</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/wxning-blog/images/logo.jpg">
    <meta name="description" content="终生学习者">
    
    <link rel="preload" href="/wxning-blog/assets/css/0.styles.164dedc7.css" as="style"><link rel="preload" href="/wxning-blog/assets/js/app.4055e327.js" as="script"><link rel="preload" href="/wxning-blog/assets/js/2.1e8fbe4d.js" as="script"><link rel="preload" href="/wxning-blog/assets/js/256.658341c6.js" as="script"><link rel="preload" href="/wxning-blog/assets/js/104.960b00c9.js" as="script"><link rel="prefetch" href="/wxning-blog/assets/js/10.c92ce697.js"><link rel="prefetch" href="/wxning-blog/assets/js/100.ab5476fb.js"><link rel="prefetch" href="/wxning-blog/assets/js/101.3536da9b.js"><link rel="prefetch" href="/wxning-blog/assets/js/102.3cfd4a7d.js"><link rel="prefetch" href="/wxning-blog/assets/js/103.7fe23f8f.js"><link rel="prefetch" href="/wxning-blog/assets/js/105.ffe2a027.js"><link rel="prefetch" href="/wxning-blog/assets/js/106.5e1ba5a4.js"><link rel="prefetch" href="/wxning-blog/assets/js/107.437bc560.js"><link rel="prefetch" href="/wxning-blog/assets/js/108.ab2177c7.js"><link rel="prefetch" href="/wxning-blog/assets/js/109.3a6a118c.js"><link rel="prefetch" href="/wxning-blog/assets/js/11.e082ab38.js"><link rel="prefetch" href="/wxning-blog/assets/js/110.ef87a8a0.js"><link rel="prefetch" href="/wxning-blog/assets/js/111.46e6bb95.js"><link rel="prefetch" href="/wxning-blog/assets/js/112.a808995c.js"><link rel="prefetch" href="/wxning-blog/assets/js/113.f2c4c729.js"><link rel="prefetch" href="/wxning-blog/assets/js/114.f889ee6b.js"><link rel="prefetch" href="/wxning-blog/assets/js/115.c5c3671b.js"><link rel="prefetch" href="/wxning-blog/assets/js/116.82f593a3.js"><link rel="prefetch" href="/wxning-blog/assets/js/117.7660e5b0.js"><link rel="prefetch" href="/wxning-blog/assets/js/118.5d66c35f.js"><link rel="prefetch" href="/wxning-blog/assets/js/119.8dc6e059.js"><link rel="prefetch" href="/wxning-blog/assets/js/12.d6f32b97.js"><link rel="prefetch" href="/wxning-blog/assets/js/120.cea40456.js"><link rel="prefetch" href="/wxning-blog/assets/js/121.a6ea3e63.js"><link rel="prefetch" href="/wxning-blog/assets/js/122.87c5f2b2.js"><link rel="prefetch" href="/wxning-blog/assets/js/123.372d5ab0.js"><link rel="prefetch" href="/wxning-blog/assets/js/124.9f20e415.js"><link rel="prefetch" href="/wxning-blog/assets/js/125.3c783718.js"><link rel="prefetch" href="/wxning-blog/assets/js/126.0d5f9316.js"><link rel="prefetch" href="/wxning-blog/assets/js/127.b7c3da90.js"><link rel="prefetch" href="/wxning-blog/assets/js/128.7501f3aa.js"><link rel="prefetch" href="/wxning-blog/assets/js/129.30e89818.js"><link rel="prefetch" href="/wxning-blog/assets/js/13.de926e8b.js"><link rel="prefetch" href="/wxning-blog/assets/js/130.0ea83af6.js"><link rel="prefetch" href="/wxning-blog/assets/js/131.90f19cb8.js"><link rel="prefetch" href="/wxning-blog/assets/js/132.f3022b1e.js"><link rel="prefetch" href="/wxning-blog/assets/js/133.65e3c4e5.js"><link rel="prefetch" href="/wxning-blog/assets/js/134.fd873988.js"><link rel="prefetch" href="/wxning-blog/assets/js/135.0352eb0c.js"><link rel="prefetch" href="/wxning-blog/assets/js/136.42b4cf82.js"><link rel="prefetch" href="/wxning-blog/assets/js/137.789fd1ce.js"><link rel="prefetch" href="/wxning-blog/assets/js/138.2c89bdef.js"><link rel="prefetch" href="/wxning-blog/assets/js/139.c9e007f5.js"><link rel="prefetch" href="/wxning-blog/assets/js/14.792a1a6c.js"><link rel="prefetch" href="/wxning-blog/assets/js/140.cd378d1c.js"><link rel="prefetch" href="/wxning-blog/assets/js/141.c2a3fe6a.js"><link rel="prefetch" href="/wxning-blog/assets/js/142.8433291a.js"><link rel="prefetch" href="/wxning-blog/assets/js/143.f6fe3fb7.js"><link rel="prefetch" href="/wxning-blog/assets/js/144.efe4ed0c.js"><link rel="prefetch" href="/wxning-blog/assets/js/145.7010db91.js"><link rel="prefetch" href="/wxning-blog/assets/js/146.fa61a604.js"><link rel="prefetch" href="/wxning-blog/assets/js/147.7ef12452.js"><link rel="prefetch" href="/wxning-blog/assets/js/148.97751ea3.js"><link rel="prefetch" href="/wxning-blog/assets/js/149.6c113c96.js"><link rel="prefetch" href="/wxning-blog/assets/js/15.4c6c37c1.js"><link rel="prefetch" href="/wxning-blog/assets/js/150.f84e25a2.js"><link rel="prefetch" href="/wxning-blog/assets/js/151.e5b5b206.js"><link rel="prefetch" href="/wxning-blog/assets/js/152.a005057c.js"><link rel="prefetch" href="/wxning-blog/assets/js/153.72445b64.js"><link rel="prefetch" href="/wxning-blog/assets/js/154.cff855f6.js"><link rel="prefetch" href="/wxning-blog/assets/js/155.93fe8aa7.js"><link rel="prefetch" href="/wxning-blog/assets/js/156.9001287c.js"><link rel="prefetch" href="/wxning-blog/assets/js/157.dbfc6973.js"><link rel="prefetch" href="/wxning-blog/assets/js/158.ad301d05.js"><link rel="prefetch" href="/wxning-blog/assets/js/159.e2767d3a.js"><link rel="prefetch" href="/wxning-blog/assets/js/16.6e3f6325.js"><link rel="prefetch" href="/wxning-blog/assets/js/160.6f70f634.js"><link rel="prefetch" href="/wxning-blog/assets/js/161.397e56aa.js"><link rel="prefetch" href="/wxning-blog/assets/js/162.ba35b13c.js"><link rel="prefetch" href="/wxning-blog/assets/js/163.bf37906a.js"><link rel="prefetch" href="/wxning-blog/assets/js/164.783fe2e9.js"><link rel="prefetch" href="/wxning-blog/assets/js/165.f7610150.js"><link rel="prefetch" href="/wxning-blog/assets/js/166.109e3588.js"><link rel="prefetch" href="/wxning-blog/assets/js/167.65c315ad.js"><link rel="prefetch" href="/wxning-blog/assets/js/168.83b04d8f.js"><link rel="prefetch" href="/wxning-blog/assets/js/169.7c4b32e9.js"><link rel="prefetch" href="/wxning-blog/assets/js/17.8cc15926.js"><link rel="prefetch" href="/wxning-blog/assets/js/170.cacf779f.js"><link rel="prefetch" href="/wxning-blog/assets/js/171.332424a9.js"><link rel="prefetch" href="/wxning-blog/assets/js/172.28916eaa.js"><link rel="prefetch" href="/wxning-blog/assets/js/173.2664504f.js"><link rel="prefetch" href="/wxning-blog/assets/js/174.e0eba700.js"><link rel="prefetch" href="/wxning-blog/assets/js/175.f5a67ffc.js"><link rel="prefetch" href="/wxning-blog/assets/js/176.97ccf7b2.js"><link rel="prefetch" href="/wxning-blog/assets/js/177.c6913667.js"><link rel="prefetch" href="/wxning-blog/assets/js/178.fd3c391a.js"><link rel="prefetch" href="/wxning-blog/assets/js/179.da7ee179.js"><link rel="prefetch" href="/wxning-blog/assets/js/18.1e283279.js"><link rel="prefetch" href="/wxning-blog/assets/js/180.1e2ddfc7.js"><link rel="prefetch" href="/wxning-blog/assets/js/181.9482d2f5.js"><link rel="prefetch" href="/wxning-blog/assets/js/182.1c23e769.js"><link rel="prefetch" href="/wxning-blog/assets/js/183.39558f25.js"><link rel="prefetch" href="/wxning-blog/assets/js/184.d42ed9c0.js"><link rel="prefetch" href="/wxning-blog/assets/js/185.ca3b3f5f.js"><link rel="prefetch" href="/wxning-blog/assets/js/186.91c44ca7.js"><link rel="prefetch" href="/wxning-blog/assets/js/187.0aa3b285.js"><link rel="prefetch" href="/wxning-blog/assets/js/188.2d493a0c.js"><link rel="prefetch" href="/wxning-blog/assets/js/189.b1c7e5ed.js"><link rel="prefetch" href="/wxning-blog/assets/js/19.7ec83ae9.js"><link rel="prefetch" href="/wxning-blog/assets/js/190.e1cf7b66.js"><link rel="prefetch" href="/wxning-blog/assets/js/191.ae97019b.js"><link rel="prefetch" href="/wxning-blog/assets/js/192.c723200c.js"><link rel="prefetch" href="/wxning-blog/assets/js/193.ab4cb831.js"><link rel="prefetch" href="/wxning-blog/assets/js/194.610e397f.js"><link rel="prefetch" href="/wxning-blog/assets/js/195.80508882.js"><link rel="prefetch" href="/wxning-blog/assets/js/196.0fe45584.js"><link rel="prefetch" href="/wxning-blog/assets/js/197.79c03aea.js"><link rel="prefetch" href="/wxning-blog/assets/js/198.e8033eb8.js"><link rel="prefetch" href="/wxning-blog/assets/js/199.d43943ae.js"><link rel="prefetch" href="/wxning-blog/assets/js/20.b16cad28.js"><link rel="prefetch" href="/wxning-blog/assets/js/200.592caa88.js"><link rel="prefetch" href="/wxning-blog/assets/js/201.6e4ae57e.js"><link rel="prefetch" href="/wxning-blog/assets/js/202.5a94f267.js"><link rel="prefetch" href="/wxning-blog/assets/js/203.5e52f0dd.js"><link rel="prefetch" href="/wxning-blog/assets/js/204.1dc1968f.js"><link rel="prefetch" href="/wxning-blog/assets/js/205.45393bda.js"><link rel="prefetch" href="/wxning-blog/assets/js/206.12580b79.js"><link rel="prefetch" href="/wxning-blog/assets/js/207.97711fa2.js"><link rel="prefetch" href="/wxning-blog/assets/js/208.a34354bb.js"><link rel="prefetch" href="/wxning-blog/assets/js/209.9fd2b7ee.js"><link rel="prefetch" href="/wxning-blog/assets/js/21.0da5475f.js"><link rel="prefetch" href="/wxning-blog/assets/js/210.2d117674.js"><link rel="prefetch" href="/wxning-blog/assets/js/211.dc7a963b.js"><link rel="prefetch" href="/wxning-blog/assets/js/212.61645c8d.js"><link rel="prefetch" href="/wxning-blog/assets/js/213.03d0ed36.js"><link rel="prefetch" href="/wxning-blog/assets/js/214.0d276e9d.js"><link rel="prefetch" href="/wxning-blog/assets/js/215.d7c10b85.js"><link rel="prefetch" href="/wxning-blog/assets/js/216.1d52bd30.js"><link rel="prefetch" href="/wxning-blog/assets/js/217.aee74271.js"><link rel="prefetch" href="/wxning-blog/assets/js/218.c6873f2d.js"><link rel="prefetch" href="/wxning-blog/assets/js/219.de449574.js"><link rel="prefetch" href="/wxning-blog/assets/js/22.10f378ee.js"><link rel="prefetch" href="/wxning-blog/assets/js/220.0cfcfd96.js"><link rel="prefetch" href="/wxning-blog/assets/js/221.44282b3f.js"><link rel="prefetch" href="/wxning-blog/assets/js/222.78d3553a.js"><link rel="prefetch" href="/wxning-blog/assets/js/223.5532a734.js"><link rel="prefetch" href="/wxning-blog/assets/js/224.cc8cb648.js"><link rel="prefetch" href="/wxning-blog/assets/js/225.75b79a05.js"><link rel="prefetch" href="/wxning-blog/assets/js/226.a43d359d.js"><link rel="prefetch" href="/wxning-blog/assets/js/227.97cd0270.js"><link rel="prefetch" href="/wxning-blog/assets/js/228.d1392203.js"><link rel="prefetch" href="/wxning-blog/assets/js/229.779db4c4.js"><link rel="prefetch" href="/wxning-blog/assets/js/23.21e9ba8c.js"><link rel="prefetch" href="/wxning-blog/assets/js/230.0c33e63d.js"><link rel="prefetch" href="/wxning-blog/assets/js/231.fe0ebd2c.js"><link rel="prefetch" href="/wxning-blog/assets/js/232.7bec4585.js"><link rel="prefetch" href="/wxning-blog/assets/js/233.aa39cd24.js"><link rel="prefetch" href="/wxning-blog/assets/js/234.63bddf31.js"><link rel="prefetch" href="/wxning-blog/assets/js/235.43c03b1a.js"><link rel="prefetch" href="/wxning-blog/assets/js/236.0223dcfd.js"><link rel="prefetch" href="/wxning-blog/assets/js/237.90cd8879.js"><link rel="prefetch" href="/wxning-blog/assets/js/238.1e46431b.js"><link rel="prefetch" href="/wxning-blog/assets/js/239.dd5b9b20.js"><link rel="prefetch" href="/wxning-blog/assets/js/24.91cf3e63.js"><link rel="prefetch" href="/wxning-blog/assets/js/240.cb529433.js"><link rel="prefetch" href="/wxning-blog/assets/js/241.82d6f457.js"><link rel="prefetch" href="/wxning-blog/assets/js/242.1475e89e.js"><link rel="prefetch" href="/wxning-blog/assets/js/243.0ed3dcc0.js"><link rel="prefetch" href="/wxning-blog/assets/js/244.5514e573.js"><link rel="prefetch" href="/wxning-blog/assets/js/245.4e2cb6b2.js"><link rel="prefetch" href="/wxning-blog/assets/js/246.a8ab5fde.js"><link rel="prefetch" href="/wxning-blog/assets/js/247.4be9c28a.js"><link rel="prefetch" href="/wxning-blog/assets/js/248.905e4b07.js"><link rel="prefetch" href="/wxning-blog/assets/js/249.4691f713.js"><link rel="prefetch" href="/wxning-blog/assets/js/25.24f1afcb.js"><link rel="prefetch" href="/wxning-blog/assets/js/250.b0887bfa.js"><link rel="prefetch" href="/wxning-blog/assets/js/251.254869b4.js"><link rel="prefetch" href="/wxning-blog/assets/js/252.100b3cea.js"><link rel="prefetch" href="/wxning-blog/assets/js/253.4bd43f3c.js"><link rel="prefetch" href="/wxning-blog/assets/js/254.990bdf7d.js"><link rel="prefetch" href="/wxning-blog/assets/js/255.85ef76fd.js"><link rel="prefetch" href="/wxning-blog/assets/js/257.04b48eb0.js"><link rel="prefetch" href="/wxning-blog/assets/js/258.ae3aacea.js"><link rel="prefetch" href="/wxning-blog/assets/js/259.e7fe9406.js"><link rel="prefetch" href="/wxning-blog/assets/js/26.29fcfd64.js"><link rel="prefetch" href="/wxning-blog/assets/js/260.abb853d5.js"><link rel="prefetch" href="/wxning-blog/assets/js/261.447a40e4.js"><link rel="prefetch" href="/wxning-blog/assets/js/262.5aa9741b.js"><link rel="prefetch" href="/wxning-blog/assets/js/263.408a3f59.js"><link rel="prefetch" href="/wxning-blog/assets/js/264.6e6b08e4.js"><link rel="prefetch" href="/wxning-blog/assets/js/265.174f9bee.js"><link rel="prefetch" href="/wxning-blog/assets/js/266.79f786bf.js"><link rel="prefetch" href="/wxning-blog/assets/js/267.37d0312a.js"><link rel="prefetch" href="/wxning-blog/assets/js/268.0244894a.js"><link rel="prefetch" href="/wxning-blog/assets/js/269.99145fce.js"><link rel="prefetch" href="/wxning-blog/assets/js/27.00f300f5.js"><link rel="prefetch" href="/wxning-blog/assets/js/270.298c936c.js"><link rel="prefetch" href="/wxning-blog/assets/js/271.d19f51af.js"><link rel="prefetch" href="/wxning-blog/assets/js/272.b1957e7b.js"><link rel="prefetch" href="/wxning-blog/assets/js/273.207f9122.js"><link rel="prefetch" href="/wxning-blog/assets/js/274.87ae9d08.js"><link rel="prefetch" href="/wxning-blog/assets/js/275.2d524e60.js"><link rel="prefetch" href="/wxning-blog/assets/js/276.6dcad7af.js"><link rel="prefetch" href="/wxning-blog/assets/js/277.5638f6f6.js"><link rel="prefetch" href="/wxning-blog/assets/js/278.7b619a90.js"><link rel="prefetch" href="/wxning-blog/assets/js/279.d2047988.js"><link rel="prefetch" href="/wxning-blog/assets/js/28.8224265d.js"><link rel="prefetch" href="/wxning-blog/assets/js/280.06e152bd.js"><link rel="prefetch" href="/wxning-blog/assets/js/281.e82ce0d2.js"><link rel="prefetch" href="/wxning-blog/assets/js/282.c3faff4c.js"><link rel="prefetch" href="/wxning-blog/assets/js/283.55d9debf.js"><link rel="prefetch" href="/wxning-blog/assets/js/284.3b53a5e4.js"><link rel="prefetch" href="/wxning-blog/assets/js/285.1c38cdc5.js"><link rel="prefetch" href="/wxning-blog/assets/js/286.0935b060.js"><link rel="prefetch" href="/wxning-blog/assets/js/287.f90cb90e.js"><link rel="prefetch" href="/wxning-blog/assets/js/288.323c085c.js"><link rel="prefetch" href="/wxning-blog/assets/js/289.a66dfa39.js"><link rel="prefetch" href="/wxning-blog/assets/js/29.a91f82ec.js"><link rel="prefetch" href="/wxning-blog/assets/js/290.ce9e1b73.js"><link rel="prefetch" href="/wxning-blog/assets/js/291.af39dbda.js"><link rel="prefetch" href="/wxning-blog/assets/js/292.de46efb2.js"><link rel="prefetch" href="/wxning-blog/assets/js/293.9215d664.js"><link rel="prefetch" href="/wxning-blog/assets/js/294.883ab5ac.js"><link rel="prefetch" href="/wxning-blog/assets/js/295.c5897f01.js"><link rel="prefetch" href="/wxning-blog/assets/js/296.8255c8a6.js"><link rel="prefetch" href="/wxning-blog/assets/js/297.846c8ec8.js"><link rel="prefetch" href="/wxning-blog/assets/js/298.6919de3a.js"><link rel="prefetch" href="/wxning-blog/assets/js/299.98c3ac85.js"><link rel="prefetch" href="/wxning-blog/assets/js/3.18b40417.js"><link rel="prefetch" href="/wxning-blog/assets/js/30.47ce4b59.js"><link rel="prefetch" href="/wxning-blog/assets/js/300.f68bcba6.js"><link rel="prefetch" href="/wxning-blog/assets/js/301.a6892a1e.js"><link rel="prefetch" href="/wxning-blog/assets/js/302.1c50f353.js"><link rel="prefetch" href="/wxning-blog/assets/js/303.4b9bded7.js"><link rel="prefetch" href="/wxning-blog/assets/js/304.1a257839.js"><link rel="prefetch" href="/wxning-blog/assets/js/305.59f0ff26.js"><link rel="prefetch" href="/wxning-blog/assets/js/306.e361b56c.js"><link rel="prefetch" href="/wxning-blog/assets/js/307.e3ae2dac.js"><link rel="prefetch" href="/wxning-blog/assets/js/308.3139cb55.js"><link rel="prefetch" href="/wxning-blog/assets/js/309.77f0cc27.js"><link rel="prefetch" href="/wxning-blog/assets/js/31.c7331b8f.js"><link rel="prefetch" href="/wxning-blog/assets/js/310.a4083c42.js"><link rel="prefetch" href="/wxning-blog/assets/js/311.52ccc8fb.js"><link rel="prefetch" href="/wxning-blog/assets/js/312.68dd7886.js"><link rel="prefetch" href="/wxning-blog/assets/js/313.112445f1.js"><link rel="prefetch" href="/wxning-blog/assets/js/314.8ef8d78a.js"><link rel="prefetch" href="/wxning-blog/assets/js/315.af029586.js"><link rel="prefetch" href="/wxning-blog/assets/js/316.d2a240c3.js"><link rel="prefetch" href="/wxning-blog/assets/js/317.d0cc3922.js"><link rel="prefetch" href="/wxning-blog/assets/js/318.c96913ee.js"><link rel="prefetch" href="/wxning-blog/assets/js/319.a748f89c.js"><link rel="prefetch" href="/wxning-blog/assets/js/32.c3ac7f2c.js"><link rel="prefetch" href="/wxning-blog/assets/js/320.46309838.js"><link rel="prefetch" href="/wxning-blog/assets/js/321.c1635a85.js"><link rel="prefetch" href="/wxning-blog/assets/js/322.1a7a05d4.js"><link rel="prefetch" href="/wxning-blog/assets/js/323.361c1271.js"><link rel="prefetch" href="/wxning-blog/assets/js/324.7faf13a4.js"><link rel="prefetch" href="/wxning-blog/assets/js/325.09c89bde.js"><link rel="prefetch" href="/wxning-blog/assets/js/326.00389af7.js"><link rel="prefetch" href="/wxning-blog/assets/js/327.0049a45a.js"><link rel="prefetch" href="/wxning-blog/assets/js/328.a2a20b1c.js"><link rel="prefetch" href="/wxning-blog/assets/js/329.aa166f76.js"><link rel="prefetch" href="/wxning-blog/assets/js/33.b23a0d09.js"><link rel="prefetch" href="/wxning-blog/assets/js/330.bb8203eb.js"><link rel="prefetch" href="/wxning-blog/assets/js/331.07bcca1c.js"><link rel="prefetch" href="/wxning-blog/assets/js/332.99b11fcd.js"><link rel="prefetch" href="/wxning-blog/assets/js/333.eebd77a6.js"><link rel="prefetch" href="/wxning-blog/assets/js/334.d74dc2a6.js"><link rel="prefetch" href="/wxning-blog/assets/js/335.dd687f9e.js"><link rel="prefetch" href="/wxning-blog/assets/js/336.11801544.js"><link rel="prefetch" href="/wxning-blog/assets/js/337.9e8568f6.js"><link rel="prefetch" href="/wxning-blog/assets/js/338.8bffa4ca.js"><link rel="prefetch" href="/wxning-blog/assets/js/339.c08d0008.js"><link rel="prefetch" href="/wxning-blog/assets/js/34.5306e6fd.js"><link rel="prefetch" href="/wxning-blog/assets/js/340.296e0052.js"><link rel="prefetch" href="/wxning-blog/assets/js/341.3978fa1f.js"><link rel="prefetch" href="/wxning-blog/assets/js/342.7724399b.js"><link rel="prefetch" href="/wxning-blog/assets/js/343.7b9f5d07.js"><link rel="prefetch" href="/wxning-blog/assets/js/344.827d90d4.js"><link rel="prefetch" href="/wxning-blog/assets/js/345.f65d3076.js"><link rel="prefetch" href="/wxning-blog/assets/js/346.00fc0255.js"><link rel="prefetch" href="/wxning-blog/assets/js/347.def71a27.js"><link rel="prefetch" href="/wxning-blog/assets/js/348.228de4ee.js"><link rel="prefetch" href="/wxning-blog/assets/js/349.ebd11456.js"><link rel="prefetch" href="/wxning-blog/assets/js/35.003e1c48.js"><link rel="prefetch" href="/wxning-blog/assets/js/350.31e7e561.js"><link rel="prefetch" href="/wxning-blog/assets/js/351.3631ac5e.js"><link rel="prefetch" href="/wxning-blog/assets/js/352.054faf4e.js"><link rel="prefetch" href="/wxning-blog/assets/js/353.b636d128.js"><link rel="prefetch" href="/wxning-blog/assets/js/354.a0b86601.js"><link rel="prefetch" href="/wxning-blog/assets/js/355.e2a581f2.js"><link rel="prefetch" href="/wxning-blog/assets/js/356.f1ad58c4.js"><link rel="prefetch" href="/wxning-blog/assets/js/357.2e65cae5.js"><link rel="prefetch" href="/wxning-blog/assets/js/358.ee183050.js"><link rel="prefetch" href="/wxning-blog/assets/js/359.8229c293.js"><link rel="prefetch" href="/wxning-blog/assets/js/36.c2ab7f8d.js"><link rel="prefetch" href="/wxning-blog/assets/js/360.757db6e3.js"><link rel="prefetch" href="/wxning-blog/assets/js/361.29931936.js"><link rel="prefetch" href="/wxning-blog/assets/js/362.f08df47d.js"><link rel="prefetch" href="/wxning-blog/assets/js/363.d371af96.js"><link rel="prefetch" href="/wxning-blog/assets/js/364.0e3890ae.js"><link rel="prefetch" href="/wxning-blog/assets/js/365.a372fa08.js"><link rel="prefetch" href="/wxning-blog/assets/js/366.65382503.js"><link rel="prefetch" href="/wxning-blog/assets/js/367.91ee6ac3.js"><link rel="prefetch" href="/wxning-blog/assets/js/368.d6c64cb1.js"><link rel="prefetch" href="/wxning-blog/assets/js/369.c9954988.js"><link rel="prefetch" href="/wxning-blog/assets/js/37.e709dc3d.js"><link rel="prefetch" href="/wxning-blog/assets/js/370.e58887e5.js"><link rel="prefetch" href="/wxning-blog/assets/js/371.a15f0ced.js"><link rel="prefetch" href="/wxning-blog/assets/js/372.405844aa.js"><link rel="prefetch" href="/wxning-blog/assets/js/373.0673a907.js"><link rel="prefetch" href="/wxning-blog/assets/js/374.1dbd558d.js"><link rel="prefetch" href="/wxning-blog/assets/js/375.26761bf4.js"><link rel="prefetch" href="/wxning-blog/assets/js/376.fc7cf7ae.js"><link rel="prefetch" href="/wxning-blog/assets/js/377.31c6eace.js"><link rel="prefetch" href="/wxning-blog/assets/js/378.0eb2b3e4.js"><link rel="prefetch" href="/wxning-blog/assets/js/379.4b889c09.js"><link rel="prefetch" href="/wxning-blog/assets/js/38.bcfc3bb0.js"><link rel="prefetch" href="/wxning-blog/assets/js/380.f764d622.js"><link rel="prefetch" href="/wxning-blog/assets/js/381.583a80c2.js"><link rel="prefetch" href="/wxning-blog/assets/js/382.ab53948f.js"><link rel="prefetch" href="/wxning-blog/assets/js/383.6dc1382a.js"><link rel="prefetch" href="/wxning-blog/assets/js/384.66d79d24.js"><link rel="prefetch" href="/wxning-blog/assets/js/385.ebb328ee.js"><link rel="prefetch" href="/wxning-blog/assets/js/386.8f3f76f3.js"><link rel="prefetch" href="/wxning-blog/assets/js/387.366a3483.js"><link rel="prefetch" href="/wxning-blog/assets/js/388.90919411.js"><link rel="prefetch" href="/wxning-blog/assets/js/389.e8aa9a77.js"><link rel="prefetch" href="/wxning-blog/assets/js/39.16c138ae.js"><link rel="prefetch" href="/wxning-blog/assets/js/390.84b03b44.js"><link rel="prefetch" href="/wxning-blog/assets/js/391.7e6edd15.js"><link rel="prefetch" href="/wxning-blog/assets/js/392.b8c3e180.js"><link rel="prefetch" href="/wxning-blog/assets/js/393.69ee9224.js"><link rel="prefetch" href="/wxning-blog/assets/js/394.c4a67b73.js"><link rel="prefetch" href="/wxning-blog/assets/js/395.180dc020.js"><link rel="prefetch" href="/wxning-blog/assets/js/396.c3a16b48.js"><link rel="prefetch" href="/wxning-blog/assets/js/397.dec078fc.js"><link rel="prefetch" href="/wxning-blog/assets/js/398.8fa697eb.js"><link rel="prefetch" href="/wxning-blog/assets/js/399.69d2a1a3.js"><link rel="prefetch" href="/wxning-blog/assets/js/4.5312900b.js"><link rel="prefetch" href="/wxning-blog/assets/js/40.c41b1f35.js"><link rel="prefetch" href="/wxning-blog/assets/js/400.d2bf9e35.js"><link rel="prefetch" href="/wxning-blog/assets/js/401.ba9f617b.js"><link rel="prefetch" href="/wxning-blog/assets/js/402.67a807a4.js"><link rel="prefetch" href="/wxning-blog/assets/js/403.78fee676.js"><link rel="prefetch" href="/wxning-blog/assets/js/404.75868b4c.js"><link rel="prefetch" href="/wxning-blog/assets/js/405.83624335.js"><link rel="prefetch" href="/wxning-blog/assets/js/406.7ec4531c.js"><link rel="prefetch" href="/wxning-blog/assets/js/407.fcaeaece.js"><link rel="prefetch" href="/wxning-blog/assets/js/408.210c7897.js"><link rel="prefetch" href="/wxning-blog/assets/js/409.a6f5f640.js"><link rel="prefetch" href="/wxning-blog/assets/js/41.1afe9be0.js"><link rel="prefetch" href="/wxning-blog/assets/js/410.09e587ba.js"><link rel="prefetch" href="/wxning-blog/assets/js/411.6969b340.js"><link rel="prefetch" href="/wxning-blog/assets/js/412.93a9d0b7.js"><link rel="prefetch" href="/wxning-blog/assets/js/413.d886fcc8.js"><link rel="prefetch" href="/wxning-blog/assets/js/414.90672409.js"><link rel="prefetch" href="/wxning-blog/assets/js/415.6c412325.js"><link rel="prefetch" href="/wxning-blog/assets/js/416.0a33188c.js"><link rel="prefetch" href="/wxning-blog/assets/js/417.c823353a.js"><link rel="prefetch" href="/wxning-blog/assets/js/418.6fd3cb30.js"><link rel="prefetch" href="/wxning-blog/assets/js/419.2723cdf4.js"><link rel="prefetch" href="/wxning-blog/assets/js/42.17c68ead.js"><link rel="prefetch" href="/wxning-blog/assets/js/420.85b3d34b.js"><link rel="prefetch" href="/wxning-blog/assets/js/421.a96fed9c.js"><link rel="prefetch" href="/wxning-blog/assets/js/422.02a0af30.js"><link rel="prefetch" href="/wxning-blog/assets/js/423.6a261743.js"><link rel="prefetch" href="/wxning-blog/assets/js/424.e2479512.js"><link rel="prefetch" href="/wxning-blog/assets/js/425.53227a99.js"><link rel="prefetch" href="/wxning-blog/assets/js/426.9e6f83a0.js"><link rel="prefetch" href="/wxning-blog/assets/js/427.51f92942.js"><link rel="prefetch" href="/wxning-blog/assets/js/428.aacceff7.js"><link rel="prefetch" href="/wxning-blog/assets/js/429.40690e9e.js"><link rel="prefetch" href="/wxning-blog/assets/js/43.7ac2cfcc.js"><link rel="prefetch" href="/wxning-blog/assets/js/430.e73897ab.js"><link rel="prefetch" href="/wxning-blog/assets/js/431.e6f3cc33.js"><link rel="prefetch" href="/wxning-blog/assets/js/432.61a34d16.js"><link rel="prefetch" href="/wxning-blog/assets/js/433.88f8892f.js"><link rel="prefetch" href="/wxning-blog/assets/js/434.22b86977.js"><link rel="prefetch" href="/wxning-blog/assets/js/435.5814aae7.js"><link rel="prefetch" href="/wxning-blog/assets/js/436.c5263a6f.js"><link rel="prefetch" href="/wxning-blog/assets/js/437.9f2a52d9.js"><link rel="prefetch" href="/wxning-blog/assets/js/438.47eb1f4d.js"><link rel="prefetch" href="/wxning-blog/assets/js/439.32cd8bcb.js"><link rel="prefetch" href="/wxning-blog/assets/js/44.5a1b7822.js"><link rel="prefetch" href="/wxning-blog/assets/js/440.285ec2a9.js"><link rel="prefetch" href="/wxning-blog/assets/js/441.61509427.js"><link rel="prefetch" href="/wxning-blog/assets/js/442.3ab81f91.js"><link rel="prefetch" href="/wxning-blog/assets/js/443.c7d9fed7.js"><link rel="prefetch" href="/wxning-blog/assets/js/444.926b9a01.js"><link rel="prefetch" href="/wxning-blog/assets/js/445.09011658.js"><link rel="prefetch" href="/wxning-blog/assets/js/446.3b0487ff.js"><link rel="prefetch" href="/wxning-blog/assets/js/447.b80e614b.js"><link rel="prefetch" href="/wxning-blog/assets/js/448.4bc25173.js"><link rel="prefetch" href="/wxning-blog/assets/js/449.d1d43434.js"><link rel="prefetch" href="/wxning-blog/assets/js/45.536a5276.js"><link rel="prefetch" href="/wxning-blog/assets/js/450.f2081478.js"><link rel="prefetch" href="/wxning-blog/assets/js/46.c20db9d5.js"><link rel="prefetch" href="/wxning-blog/assets/js/47.7037aaa2.js"><link rel="prefetch" href="/wxning-blog/assets/js/48.47bde03f.js"><link rel="prefetch" href="/wxning-blog/assets/js/49.00291931.js"><link rel="prefetch" href="/wxning-blog/assets/js/5.f2f42a1d.js"><link rel="prefetch" href="/wxning-blog/assets/js/50.3c420bcc.js"><link rel="prefetch" href="/wxning-blog/assets/js/51.98c7f994.js"><link rel="prefetch" href="/wxning-blog/assets/js/52.066ca88f.js"><link rel="prefetch" href="/wxning-blog/assets/js/53.b4ac08e5.js"><link rel="prefetch" href="/wxning-blog/assets/js/54.abaa4846.js"><link rel="prefetch" href="/wxning-blog/assets/js/55.abb65943.js"><link rel="prefetch" href="/wxning-blog/assets/js/56.76ac0a6e.js"><link rel="prefetch" href="/wxning-blog/assets/js/57.f0aa776f.js"><link rel="prefetch" href="/wxning-blog/assets/js/58.64555c40.js"><link rel="prefetch" href="/wxning-blog/assets/js/59.0da7451b.js"><link rel="prefetch" href="/wxning-blog/assets/js/6.af83cd38.js"><link rel="prefetch" href="/wxning-blog/assets/js/60.c46ae086.js"><link rel="prefetch" href="/wxning-blog/assets/js/61.61bc4a51.js"><link rel="prefetch" href="/wxning-blog/assets/js/62.bafc229c.js"><link rel="prefetch" href="/wxning-blog/assets/js/63.bcb2e388.js"><link rel="prefetch" href="/wxning-blog/assets/js/64.8273b055.js"><link rel="prefetch" href="/wxning-blog/assets/js/65.4714b2f5.js"><link rel="prefetch" href="/wxning-blog/assets/js/66.0801d959.js"><link rel="prefetch" href="/wxning-blog/assets/js/67.2ee3fd98.js"><link rel="prefetch" href="/wxning-blog/assets/js/68.aedb5dab.js"><link rel="prefetch" href="/wxning-blog/assets/js/69.00d93c42.js"><link rel="prefetch" href="/wxning-blog/assets/js/7.8364287d.js"><link rel="prefetch" href="/wxning-blog/assets/js/70.db038d52.js"><link rel="prefetch" href="/wxning-blog/assets/js/71.0af2ece4.js"><link rel="prefetch" href="/wxning-blog/assets/js/72.bfc87222.js"><link rel="prefetch" href="/wxning-blog/assets/js/73.fea3824b.js"><link rel="prefetch" href="/wxning-blog/assets/js/74.c7f9fa15.js"><link rel="prefetch" href="/wxning-blog/assets/js/75.79601c45.js"><link rel="prefetch" href="/wxning-blog/assets/js/76.49044261.js"><link rel="prefetch" href="/wxning-blog/assets/js/77.988e7410.js"><link rel="prefetch" href="/wxning-blog/assets/js/78.384a93dc.js"><link rel="prefetch" href="/wxning-blog/assets/js/79.13a9308e.js"><link rel="prefetch" href="/wxning-blog/assets/js/8.0930e1a1.js"><link rel="prefetch" href="/wxning-blog/assets/js/80.9f1159ef.js"><link rel="prefetch" href="/wxning-blog/assets/js/81.c8121bdf.js"><link rel="prefetch" href="/wxning-blog/assets/js/82.53a31696.js"><link rel="prefetch" href="/wxning-blog/assets/js/83.f0916a61.js"><link rel="prefetch" href="/wxning-blog/assets/js/84.ec3880d7.js"><link rel="prefetch" href="/wxning-blog/assets/js/85.782ddacd.js"><link rel="prefetch" href="/wxning-blog/assets/js/86.9b70b360.js"><link rel="prefetch" href="/wxning-blog/assets/js/87.62593f98.js"><link rel="prefetch" href="/wxning-blog/assets/js/88.2bd7fd3a.js"><link rel="prefetch" href="/wxning-blog/assets/js/89.78eccb96.js"><link rel="prefetch" href="/wxning-blog/assets/js/9.bb531b8d.js"><link rel="prefetch" href="/wxning-blog/assets/js/90.31dc1d67.js"><link rel="prefetch" href="/wxning-blog/assets/js/91.7b70a2bf.js"><link rel="prefetch" href="/wxning-blog/assets/js/92.9e486a14.js"><link rel="prefetch" href="/wxning-blog/assets/js/93.e4f80078.js"><link rel="prefetch" href="/wxning-blog/assets/js/94.c7cae81b.js"><link rel="prefetch" href="/wxning-blog/assets/js/95.011991f6.js"><link rel="prefetch" href="/wxning-blog/assets/js/96.88ab6b15.js"><link rel="prefetch" href="/wxning-blog/assets/js/97.a7d1e0bd.js"><link rel="prefetch" href="/wxning-blog/assets/js/98.cf8fc0f6.js"><link rel="prefetch" href="/wxning-blog/assets/js/99.3dc1cb61.js">
    <link rel="stylesheet" href="/wxning-blog/assets/css/0.styles.164dedc7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wxning-blog/" class="home-link router-link-active"><!----> <span class="site-name">王雄宁</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wxning-blog/guide/" class="nav-link">
  个人简介
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="交易系统" class="dropdown-title"><span class="title">交易系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="交易系统" class="mobile-dropdown-title"><span class="title">交易系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/diary/" class="nav-link">
  交易日记
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/strategy/" class="nav-link">
  交易策略
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础教程" class="dropdown-title"><span class="title">基础教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础教程" class="mobile-dropdown-title"><span class="title">基础教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/typescript/" class="nav-link">
  TypeScript简明教程
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/grpc/" class="nav-link">
  GRPC
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/system-design/" class="nav-link router-link-active">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/data-structure-and-algorithm/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/distributed-protocol-and-algorithm/" class="nav-link">
  分布式协议与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><h4>
          题目汇总
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/interview/Golang-questions/" class="nav-link">
  Golang题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MySQL-questions/" class="nav-link">
  MySQL题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Redis-questions/" class="nav-link">
  Redis题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MQ-questions/" class="nav-link">
  消息队列题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Linux-questions/" class="nav-link">
  Linux题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/network-questions/" class="nav-link">
  计算机网络题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/os-questions/" class="nav-link">
  操作系统题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/DistributedSystemAndMicroService-questions/" class="nav-link">
  分布式与微服务题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/cloud-native-questions/" class="nav-link">
  云原生题目汇总
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/wxning-blog/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="https://github.com/wxning1107" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wxning-blog/guide/" class="nav-link">
  个人简介
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="交易系统" class="dropdown-title"><span class="title">交易系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="交易系统" class="mobile-dropdown-title"><span class="title">交易系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/diary/" class="nav-link">
  交易日记
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/transaction/strategy/" class="nav-link">
  交易策略
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础教程" class="dropdown-title"><span class="title">基础教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础教程" class="mobile-dropdown-title"><span class="title">基础教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/typescript/" class="nav-link">
  TypeScript简明教程
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/base/grpc/" class="nav-link">
  GRPC
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试宝典" class="dropdown-title"><span class="title">面试宝典</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试宝典" class="mobile-dropdown-title"><span class="title">面试宝典</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/system-design/" class="nav-link router-link-active">
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/data-structure-and-algorithm/" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/distributed-protocol-and-algorithm/" class="nav-link">
  分布式协议与算法
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/wxning-blog/interview/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><h4>
          题目汇总
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wxning-blog/interview/Golang-questions/" class="nav-link">
  Golang题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MySQL-questions/" class="nav-link">
  MySQL题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Redis-questions/" class="nav-link">
  Redis题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/MQ-questions/" class="nav-link">
  消息队列题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/Linux-questions/" class="nav-link">
  Linux题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/network-questions/" class="nav-link">
  计算机网络题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/os-questions/" class="nav-link">
  操作系统题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/DistributedSystemAndMicroService-questions/" class="nav-link">
  分布式与微服务题目汇总
</a></li><li class="dropdown-subitem"><a href="/wxning-blog/interview/cloud-native-questions/" class="nav-link">
  云原生题目汇总
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/wxning-blog/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="https://github.com/wxning1107" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/01/01.html" class="sidebar-link">高并发系统：它的通用设计方法是什么?</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/02.html" class="sidebar-link">架构分层：我们为什么一定要这么做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/03.html" class="sidebar-link">系统设计目标1：如何提升系统性能？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/04.html" class="sidebar-link">系统设计目标2：系统怎样做到高可用？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/05.html" class="sidebar-link">系统设计目标3：如何让系统易于扩展？</a></li><li><a href="/wxning-blog/interview/system-design/notes/01/06.html" class="sidebar-link">面试现场第1期：当问到组件实现原理时，面试官是在刁难你吗？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库设计</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/02/01.html" class="sidebar-link">池化技术：如何减少频繁创建数据库连接的性能损耗？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/02.html" class="sidebar-link">数据库优化方案1：查询请求增加时，如何做主从分离？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/03.html" class="sidebar-link">数据库优化方案2：写入数据量增加时，如何实现分库分表？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/04.html" class="sidebar-link">发号器：如何保证分库分表后 ID 的全局唯一性？</a></li><li><a href="/wxning-blog/interview/system-design/notes/02/05.html" class="sidebar-link">NoSQL：在高并发场景下，数据库和NoSQL如何做到互补？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>缓存设计</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/03/01.html" class="sidebar-link">缓存：数据库成为瓶颈后，动态数据的查询要如何加速？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/02.html" class="sidebar-link">缓存的使用姿势1：如何选择缓存的读写策略？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/03.html" class="sidebar-link">缓存的使用姿势2：缓存如何做到高可用？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/04.html" class="sidebar-link">缓存的使用姿势3：缓存穿透了怎么办？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/05.html" class="sidebar-link">CDN：静态资源如何加速？</a></li><li><a href="/wxning-blog/interview/system-design/notes/03/06.html" class="sidebar-link">加餐丨数据的迁移应该如何做？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>消息队列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/04/01.html" class="sidebar-link">消息队列：秒杀时如何处理每秒上万次的下单请求？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/02.html" class="sidebar-link">消息投递：如何保证消息仅仅被消费一次？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/03.html" class="sidebar-link">消息队列：如何降低消息队列系统中消息的延迟？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/04.html" class="sidebar-link">面试现场第2期：当问到项目经历时，面试官究竟想要了解什么？</a></li><li><a href="/wxning-blog/interview/system-design/notes/04/05.html" class="sidebar-link">期中测试丨10道高并发系统设计题目自测</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分布式服务</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/05/01.html" class="sidebar-link">系统架构：每秒 1 万次请求的系统要做服务化拆分吗？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/02.html" class="sidebar-link">微服务架构：微服务化后，系统架构要如何改造？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/03.html" class="sidebar-link">RPC框架：10 万 QPS 下如何实现毫秒级的服务调用？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/04.html" class="sidebar-link">注册中心：分布式系统如何寻址？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/05.html" class="sidebar-link">分布式 Trace：横跨几十个分布式组件的慢请求要如何排查？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/06.html" class="sidebar-link">负载均衡：怎样提升系统的横向扩展能力？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/07.html" class="sidebar-link">API 网关：系统的门面要如何做呢？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/08.html" class="sidebar-link">多机房部署：跨地域的分布式系统如何做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/05/09.html" class="sidebar-link">ServiceMesh：如何屏蔽服务化系统的服务治理细节？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>维护篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/06/01.html" class="sidebar-link">给系统加上眼睛：服务端监控要怎么做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/02.html" class="sidebar-link">应用性能管理：用户的使用体验应该如何监控？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/03.html" aria-current="page" class="active sidebar-link">压力测试：怎样设计全链路压力测试平台？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/04.html" class="sidebar-link">配置管理：成千上万的配置项要如何管理？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/05.html" class="sidebar-link">降级熔断：如何屏蔽非核心系统故障的影响？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/06.html" class="sidebar-link">流量控制：高并发系统中我们如何操纵流量？</a></li><li><a href="/wxning-blog/interview/system-design/notes/06/07.html" class="sidebar-link">面试现场第3期：你要如何准备一场技术面试呢？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>实战篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wxning-blog/interview/system-design/notes/07/01.html" class="sidebar-link">计数系统设计1：面对海量数据的计数器要如何做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/07/02.html" class="sidebar-link">计数系统设计2：50 万 QPS 下如何设计未读数系统？</a></li><li><a href="/wxning-blog/interview/system-design/notes/07/03.html" class="sidebar-link">信息流设计1：通用信息流系统的推模式要如何做？</a></li><li><a href="/wxning-blog/interview/system-design/notes/07/04.html" class="sidebar-link">信息流设计2：通用信息流系统的拉模式要如何做？</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="压力测试-怎样设计全链路压力测试平台"><a href="#压力测试-怎样设计全链路压力测试平台" class="header-anchor">#</a> 压力测试：怎样设计全链路压力测试平台？</h1> <p>经过两节课的学习，我们已经搭建了服务端和客户端的监控，通过监控的报表和一些报警规则的设置，你可以实时地跟踪和解决垂直电商系统中出现的问题了。不过，你不能掉以轻心，因为监控只能发现目前系统中已经存在的问题，对于未来可能发生的性能问题是无能为力的。</p> <p>一旦你的系统流量有大的增长，比如类似「双十一」的流量，那么你在面临性能问题时就可能会手足无措。为了解决后顾之忧，你需要了解在流量增长若干倍的时候，系统的哪些组件或者服务会成为整体系统的瓶颈点，这时你就需要做一次全链路的压力测试。</p> <p>那么，什么是压力测试呢？要如何来做全链路的压测呢？这两个问题就是本节课重点讲解的内容。</p> <p><font size="5"><strong>什么是压力测试</strong></font></p> <p>压力测试（简称为压测）这个名词儿，你在业界的分享中一定听过很多次，当然了，你也可能在项目的研发过程中做过压力测试，所以，对于你来说，压力测试并不陌生。</p> <p>不过，我想让你回想一下，自己是怎么做压力测试的？是不是像很多同学一样：先搭建一套与正式环境功能相同的测试环境，并且导入或者生成一批测试数据，然后在另一台服务器，启动多个线程并发地调用需要压测的接口（接口的参数一般也会设置成相同的，比如，想要压测获取商品信息的接口，那么压测时会使用同一个商品 ID）。最后，通过统计访问日志，或者查看测试环境的监控系统，来记录最终压测 QPS 是多少之后，直接交差？</p> <p>这么做压力测试其实是不正确的，<strong>错误之处主要有以下几点：</strong></p> <ol><li><p>首先，做压力测试时，最好使用线上的数据和线上的环境，因为，你无法确定自己搭建的测试环境与正式环境的差异，是否会影响到压力测试的结果；</p></li> <li><p>其次，压力测试时不能使用模拟的请求，而是要使用线上的流量。你可以通过拷贝流量的方式，把线上流量拷贝一份到压力测试环境。因为模拟流量的访问模型，和线上流量相差很大，会对压力测试的结果产生比较大的影响。</p> <p>比如，你在获取商品信息的时候，线上的流量会获取不同商品的数据，这些商品的数据有的命中了缓存，有的没有命中缓存。如果使用同一个商品 ID 来做压力测试，那么只有第一次请求没有命中缓存，而在请求之后会将数据库中的数据回种到缓存，后续的请求就一定会命中缓存了，这种压力测试的数据就不具备参考性了。</p></li> <li><p>不要从一台服务器发起流量，这样很容易达到这台服务器性能瓶颈，从而导致压力测试的 QPS 上不去，最终影响压力测试的结果。而且，为了尽量真实地模拟用户请求，我们倾向于把流量产生的机器，放在离用户更近的位置，比如放在 CDN 节点上。如果没有这个条件，那么可以放在不同的机房中，这样可以尽量保证压力测试结果的真实性。</p></li></ol> <p>之所以有很多同学出现这个问题，主要是对压力测试的概念没有完全理解，以为只要是使用多个线程并发的请求服务接口，就算是对接口进行压力测试了。</p> <p><strong>那么究竟什么是压力测试呢？</strong> 压力测试指的是，在高并发大流量下，进行的测试，测试人员可以通过观察系统在峰值负载下的表现，从而找到系统中存在的性能隐患。</p> <p>与监控一样，压力测试是一种常见的，发现系统中存在问题的方式，也是保障系统可用性和稳定性的重要手段。而在压力测试的过程中，我们不能只针对某一个核心模块来做压测，而需要将接入层、所有后端服务、数据库、缓存、消息队列、中间件以及依赖的第三方服务系统及其资源，都纳入压力测试的目标之中。因为，一旦用户的访问行为增加，包含上述组件服务的整个链路都会受到不确定的大流量的冲击，因此，它们都需要依赖压力测试来发现可能存在的性能瓶颈， <strong>这种针对整个调用链路执行的压力测试也称为「全链路压测」。</strong></p> <p>由于在互联网项目中，功能迭代的速度很快，系统的复杂性也变得越来越高，新增加的功能和代码很可能会成为新的性能瓶颈点。也许半年前做压力测试时，单台机器可以承担每秒 1000 次请求，现在很可能就承担每秒 800 次请求了。所以，压力测试应该作为系统稳定性保障的常规手段，周期性地进行。</p> <p>但是，通常做一次全链路压力测试，需要联合 DBA、运维、依赖服务方、中间件架构等多个团队，一起协调进行，无论是人力成本还是沟通协调的成本都比较高。同时，在压力测试的过程中，如果没有很好的监控机制，那么还会对线上系统造成不利的影响。 <strong>为了解决这些问题，我们需要搭建一套自动化的全链路压测平台，来降低成本和风险。</strong></p> <p><font size="5"><strong>如何搭建全链路压测平台</strong></font></p> <p>搭建全链路压测平台，主要有两个关键点。</p> <p>一点是流量的隔离。由于压力测试是在正式环境进行，所以需要区分压力测试流量和正式流量，这样可以针对压力测试的流量做单独的处理。</p> <p>另一点是风险的控制。也就是，尽量避免压力测试对于正常访问用户的影响，因此，一般来说全链路压测平台需要包含以下几个模块：</p> <ul><li><p>流量构造和产生模块；</p></li> <li><p>压测数据隔离模块；</p></li> <li><p>系统健康度检查和压测流量干预模块。</p></li></ul> <p>整体压测平台的架构图可以是下面这样的：</p> <p><img src="/wxning-blog/assets/img/1552e524d495bb7e129405578b7907ff.1552e524.jpg" alt="img"></p> <p>为了让你能够更清晰地了解每一个模块是如何实现的，方便你来设计适合自身业务的全链路压测平台，我会对压测平台的每一个模块做更细致地介绍。先来看看压力测试的流量是如何产生的。</p> <p><font size="5"><strong>压测数据的产生</strong></font></p> <p>一般来说，我们系统的入口流量是来自于客户端的 HTTP 请求，所以，我们会考虑在系统高峰期时，将这些入口流量拷贝一份，在经过一些流量清洗的工作之后（比如过滤一些无效的请求），将数据存储在像是 HBase、MongoDB 这些 NoSQL 存储组件，或者亚马逊 S3 这些云存储服务中，我们称之为 <strong>流量数据工厂</strong>。</p> <p>这样，当我们要压测的时候，就可以从这个工厂中获取数据，将数据切分多份后下发到多个压测节点上了，<strong>在这里，我想强调几个，你需要特殊注意的点。</strong></p> <p>首先，我们可以使用多种方式来实现流量的拷贝。最简单的一种方式：直接拷贝负载均衡服务器的访问日志，数据就以文本的方式写入到流量数据工厂中，但是这样产生的数据在发起压测时，需要自己写解析的脚本来解析访问日志，会增加压测时候的成本，不太建议使用。</p> <p>另一种方式：通过一些开源的工具来实现流量的拷贝。这里，我推荐一款轻型的流量拷贝工具 GoReplay，它可以劫持本机某一个端口的流量，将它们记录在文件中，传送到流量数据工厂中。在压测时，你也可以使用这个工具进行加速的流量回放，这样就可以实现对正式环境的压力测试了。</p> <p>其次，如上文中提到的，我们在下发压测流量时，需要保证下发流量的节点与用户更加接近，起码不能和服务部署节点在同一个机房中，这样可以尽量保证压测数据的真实性。</p> <p>另外，我们还需要对 <strong>压测流量染色</strong>，也就是增加压测标记。在实际项目中，我会在 HTTP 的请求头中增加一个标记项，比如说叫做 is stress test，在流量拷贝之后，批量在请求中增加这个标记项，再写入到数据流量工厂中。</p> <p><font size="5"><strong>数据如何隔离</strong></font></p> <p>将压测流量拷贝下来的同时，我们也需要考虑对系统做改造，以实现压测流量和正式流量的隔离，这样一来就会尽量避免压测对线上系统的影响，一般来说，我们需要做两方面的事情。</p> <p>一方面，针对读取数据的请求（一般称之为下行流量），我们会针对某些不能压测的服务或者组件，做 Mock 或者特殊的处理。举个例子。</p> <p>在业务开发中，我们一般会依据请求，记录用户的行为，比如，用户请求了某个商品的页面，我们会记录这个商品多了一次浏览的行为，这些行为数据会写入一份单独的大数据日志中，再传输给数据分析部门，形成业务报表给到产品或者老板做业务的分析决策。</p> <p>在压测的时候，肯定会增加这些行为数据，比如原本一天商品页面的浏览行为是一亿次，而压测之后变成了十亿次，这样就会对业务报表产生影响，影响后续的产品方向的决策。因此，我们对于这些压测产生的用户行为做特殊处理，不再记录到大数据日志中。</p> <p>再比如，我们系统会依赖一些推荐服务，推荐一些你可能感兴趣的商品，但是这些数据的展示有一个特点就是，展示过的商品就不再会被推荐出来。如果你的压测流量经过这些推荐服务，大量的商品就会被压测流量请求到，线上的用户就不会再看到这些商品了，也就会影响推荐的效果。</p> <p>所以，我们需要 Mock 这些推荐服务，让不带有压测标记的请求经过推荐服务，而让带有压测标记的请求经过 Mock 服务。搭建 Mock 服务，你需要注意一点：这些 Mock 服务最好部署在真实服务所在的机房，这样可以尽量模拟真实的服务部署结构，提高压测结果的真实性。</p> <p>另一方面，针对写入数据的请求（一般称之为上行流量），我们会把压测流量产生的数据，写入到影子库，也就是和线上数据存储，完全隔离的一份存储系统中。针对不同的存储类型，我们会使用不同的影子库的搭建方式：</p> <ol><li><p>如果数据存储在 MySQL 中，我们可以在同一个 MySQL 实例，不同的 Schema 中创建一套和线上相同的库表结构，并且把线上的数据也导入进来。</p></li> <li><p>而如果数据是放在 Redis 中，我们对压测流量产生的数据，增加一个统一的前缀，存储在同一份存储中。</p></li> <li><p>还有一些数据会存储在 Elasticsearch 中，针对这部分数据，我们可以放在另外一个单独的索引表中。</p></li></ol> <p>通过对下行流量的特殊处理以及对上行流量增加影子库的方式，我们就可以实现压测流量的隔离了。</p> <p><font size="5"><strong>压力测试如何实施</strong></font></p> <p>在拷贝了线上流量和完成了对线上系统的改造之后，我们就可以进行压力测试的实施了。在此之前，一般会设立一个压力测试的目标，比如说，整体系统的 QPS 需要达到每秒 20 万。</p> <p>不过，在压测时，不会一下子把请求量增加到每秒 20 万次，而是按照一定的步长（比如每次压测增加一万 QPS），逐渐地增加流量。在增加一次流量之后，让系统稳定运行一段时间，观察系统在性能上的表现。如果发现依赖的服务或者组件出现了瓶颈，可以先减少压测流量，比如，回退到上一次压测的 QPS，保证服务的稳定，再针对此服务或者组件进行扩容，然后再继续增加流量压测。</p> <p>为了能够减少压力测试过程中，人力投入成本，可以开发一个流量监控的组件，在这个组件中，预先设定一些性能阈值。比如，容器的 CPU 使用率的阈值可以设定为 60%～70%；系统的平均响应时间的上限可以设定为 1 秒；系统慢请求的比例设置为 1% 等等。</p> <p>当系统性能达到这个阈值之后，流量监控组件可以及时发现，并且通知压测流量下发组件减少压测流量，并且发送报警给到开发和运维的同学，开发和运维同学就迅速地排查性能瓶颈，在解决问题或者扩容之后再继续执行压测。</p> <p>业界关于全链路压测平台的探索有很多，一些大厂比如阿里、京东、美团和微博都有了适合自身业务的全链路压测平台。在我看来，这些压测平台万变不离其宗，都无非是经过流量拷贝、流量染色隔离、打压、监控熔断等步骤，与本课程中介绍的核心思想都是相通的。因此，你在考虑自研适合自己项目的全链路压测平台时，也可以遵循这个成熟的套路。</p> <p><font size="5"><strong>课程小结</strong></font></p> <p>本节课，我带你了解了做压力测试常见的误区，以及自动化的全链路压测平台的搭建过程，这里你需要了解的重点是：</p> <ol><li><p>压力测试是一种发现系统性能隐患的重要手段，所以应该尽量使用正式的环境和数据；</p></li> <li><p>对压测的流量需要增加标记，这样就可以通过 Mock 第三方依赖服务和影子库的方式来实现压测数据和正式数据的隔离；</p></li> <li><p>压测时，应该实时地对系统性能指标做监控和告警，及时地对出现瓶颈的资源或者服务扩容，避免对正式环境产生影响。</p></li></ol> <p>**这套全链路的压力测试系统对于我们来说有三方面的价值： **</p> <ul><li>其一，它可以帮助我们发现系统中可能出现的性能瓶颈，方便我们提前准备预案来应对；</li> <li>其次，它也可以为我们做容量评估，提供数据上的支撑；</li> <li>最后，我们也可以在压测的时候做预案演练，因为压测一般会安排在流量的低峰期进行，这样我们可以降级一些服务来验证预案效果，并且可以尽量减少对线上用户的影响。</li></ul> <p>所以，随着你的系统流量的快速增长，你也需要及时考虑搭建这么一套全链路压测平台，来保证你的系统的稳定性。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wxning-blog/interview/system-design/notes/06/02.html" class="prev">
        应用性能管理：用户的使用体验应该如何监控？
      </a></span> <span class="next"><a href="/wxning-blog/interview/system-design/notes/06/04.html">
        配置管理：成千上万的配置项要如何管理？
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/wxning-blog/assets/js/app.4055e327.js" defer></script><script src="/wxning-blog/assets/js/2.1e8fbe4d.js" defer></script><script src="/wxning-blog/assets/js/256.658341c6.js" defer></script><script src="/wxning-blog/assets/js/104.960b00c9.js" defer></script>
  </body>
</html>
